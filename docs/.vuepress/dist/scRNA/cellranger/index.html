<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.9" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.55" /><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();</script><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><meta property="og:url" content="https://jeason.netlify.app/scRNA/cellranger/"><meta property="og:title" content="Cell Ranger使用基础"><meta property="og:description" content="背景 Cell Ranger是由10x Genomics公司提供的一套用于处理单细胞RNA测序数据的工具。官网对其进行了详细的介绍和使用说明。可以通过10x Genomics Cloud Analysis使用这个软件或者将其安装到本地。 10X genomics 测序原理 10X简单原理 一个油滴（GEM） = 一个单细胞 + 一个凝胶微珠 = 一次s..."><meta property="og:type" content="article"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/raw1.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-10-15T04:59:15.000Z"><meta property="article:author" content="Jeason"><meta property="article:modified_time" content="2024-10-15T04:59:15.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Cell Ranger使用基础","image":["https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/raw1.png","https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/raw2.png","https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/raw3.png","https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/raw4.png","https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/raw5.png","https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/one_batch.png","https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/two_batch.png","https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/raw6.png","https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/flow1.png","https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/flow2.png","https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/flow3.png","https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/flow4.png","https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/flow5.png","https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/flow6.png"],"dateModified":"2024-10-15T04:59:15.000Z","author":[{"@type":"Person","name":"Jeason"}]}</script><title>Cell Ranger使用基础</title><meta name="description" content="背景 Cell Ranger是由10x Genomics公司提供的一套用于处理单细胞RNA测序数据的工具。官网对其进行了详细的介绍和使用说明。可以通过10x Genomics Cloud Analysis使用这个软件或者将其安装到本地。 10X genomics 测序原理 10X简单原理 一个油滴（GEM） = 一个单细胞 + 一个凝胶微珠 = 一次s..."><link rel="preload" href="/assets/style-Btq4_Wsb.css" as="style"><link rel="stylesheet" href="/assets/style-Btq4_Wsb.css"><link rel="modulepreload" href="/assets/app-B6iXF0Jq.js"><link rel="modulepreload" href="/assets/index.html-Qe4RZEFP.js"><link rel="prefetch" href="/assets/index.html-CUrxfrQc.js" as="script"><link rel="prefetch" href="/assets/index.html-CrAAK11M.js" as="script"><link rel="prefetch" href="/assets/index.html-m1OCkFZ4.js" as="script"><link rel="prefetch" href="/assets/index.html-DpklKbiB.js" as="script"><link rel="prefetch" href="/assets/index.html-DgeLdBCj.js" as="script"><link rel="prefetch" href="/assets/index.html-DdZynjPU.js" as="script"><link rel="prefetch" href="/assets/index.html-BS80wPCd.js" as="script"><link rel="prefetch" href="/assets/index.html-BDnM9U8u.js" as="script"><link rel="prefetch" href="/assets/index.html-CS0xlF23.js" as="script"><link rel="prefetch" href="/assets/index.html-Dc44YILr.js" as="script"><link rel="prefetch" href="/assets/index.html-DAVdhX44.js" as="script"><link rel="prefetch" href="/assets/index.html-_b2y8g5I.js" as="script"><link rel="prefetch" href="/assets/index.html-BqX5xppv.js" as="script"><link rel="prefetch" href="/assets/index.html-Cr8adLcz.js" as="script"><link rel="prefetch" href="/assets/index.html-aGgTAbqG.js" as="script"><link rel="prefetch" href="/assets/index.html-CIx_NjWC.js" as="script"><link rel="prefetch" href="/assets/index.html-DaxJZeyl.js" as="script"><link rel="prefetch" href="/assets/index.html-BqVSKbYR.js" as="script"><link rel="prefetch" href="/assets/index.html-CAEqmjhx.js" as="script"><link rel="prefetch" href="/assets/index.html-D1TpMNoD.js" as="script"><link rel="prefetch" href="/assets/index.html-BW7qw9ey.js" as="script"><link rel="prefetch" href="/assets/index.html-C0eVu9B2.js" as="script"><link rel="prefetch" href="/assets/index.html-BpHHyRYb.js" as="script"><link rel="prefetch" href="/assets/index.html-YcWnNOR3.js" as="script"><link rel="prefetch" href="/assets/index.html-DvPeHpKr.js" as="script"><link rel="prefetch" href="/assets/index.html-GVb_j2ww.js" as="script"><link rel="prefetch" href="/assets/index.html-B2XCVCvE.js" as="script"><link rel="prefetch" href="/assets/index.html-B2wzp7sF.js" as="script"><link rel="prefetch" href="/assets/index.html-DHrdR7yz.js" as="script"><link rel="prefetch" href="/assets/index.html-D7Nph3ek.js" as="script"><link rel="prefetch" href="/assets/index.html-bO5aQHC3.js" as="script"><link rel="prefetch" href="/assets/index.html-oWXVgFcb.js" as="script"><link rel="prefetch" href="/assets/index.html-BtvxEcyn.js" as="script"><link rel="prefetch" href="/assets/index.html-SVI69W9E.js" as="script"><link rel="prefetch" href="/assets/index.html-BbxuFSWY.js" as="script"><link rel="prefetch" href="/assets/index.html-BFe9KGsX.js" as="script"><link rel="prefetch" href="/assets/index.html-CcUcGsU8.js" as="script"><link rel="prefetch" href="/assets/index.html-DuXvOCtn.js" as="script"><link rel="prefetch" href="/assets/index.html-CsYVP1Ee.js" as="script"><link rel="prefetch" href="/assets/index.html-BZNXvoee.js" as="script"><link rel="prefetch" href="/assets/index.html-DffBPlth.js" as="script"><link rel="prefetch" href="/assets/index.html-D5byNOA9.js" as="script"><link rel="prefetch" href="/assets/index.html-BIpJcaMq.js" as="script"><link rel="prefetch" href="/assets/index.html-Cclvrn0C.js" as="script"><link rel="prefetch" href="/assets/index.html-DBRMJnkP.js" as="script"><link rel="prefetch" href="/assets/index.html-C4wOU-pC.js" as="script"><link rel="prefetch" href="/assets/index.html-D46SKBHM.js" as="script"><link rel="prefetch" href="/assets/index.html-BJzbp6fj.js" as="script"><link rel="prefetch" href="/assets/index.html-BuuWC_5c.js" as="script"><link rel="prefetch" href="/assets/index.html-BdXimPXg.js" as="script"><link rel="prefetch" href="/assets/index.html-Co7EU3KZ.js" as="script"><link rel="prefetch" href="/assets/index.html-DLv0WxRB.js" as="script"><link rel="prefetch" href="/assets/index.html-T3K5oxvg.js" as="script"><link rel="prefetch" href="/assets/index.html-dRmPcSI7.js" as="script"><link rel="prefetch" href="/assets/index.html-B0QIdxhL.js" as="script"><link rel="prefetch" href="/assets/index.html-DR8uFVGu.js" as="script"><link rel="prefetch" href="/assets/index.html-BqRbC-7N.js" as="script"><link rel="prefetch" href="/assets/index.html-ByKbSJv4.js" as="script"><link rel="prefetch" href="/assets/index.html-DnflFzVH.js" as="script"><link rel="prefetch" href="/assets/index.html-CoTzCY4j.js" as="script"><link rel="prefetch" href="/assets/index.html-Bg9CM87b.js" as="script"><link rel="prefetch" href="/assets/index.html-DG8mpR12.js" as="script"><link rel="prefetch" href="/assets/index.html-BWVnAnPc.js" as="script"><link rel="prefetch" href="/assets/index.html-dPFDGAnR.js" as="script"><link rel="prefetch" href="/assets/index.html-DKU3ACQJ.js" as="script"><link rel="prefetch" href="/assets/index.html-BgklZS89.js" as="script"><link rel="prefetch" href="/assets/index.html-DcsZqy80.js" as="script"><link rel="prefetch" href="/assets/index.html-BqSD2tD7.js" as="script"><link rel="prefetch" href="/assets/index.html-DruOQWAv.js" as="script"><link rel="prefetch" href="/assets/index.html-A9a2zzOf.js" as="script"><link rel="prefetch" href="/assets/index.html-D8r7fOa3.js" as="script"><link rel="prefetch" href="/assets/index.html-BXN1kcgZ.js" as="script"><link rel="prefetch" href="/assets/index.html-6s8u9tWA.js" as="script"><link rel="prefetch" href="/assets/index.html-C1tWJLKR.js" as="script"><link rel="prefetch" href="/assets/index.html-Ck8QB2Yk.js" as="script"><link rel="prefetch" href="/assets/index.html-vvppFMQ8.js" as="script"><link rel="prefetch" href="/assets/index.html-CoTDsdMc.js" as="script"><link rel="prefetch" href="/assets/index.html-DFWqG11e.js" as="script"><link rel="prefetch" href="/assets/index.html-DBQ_Pf_a.js" as="script"><link rel="prefetch" href="/assets/index.html-CogZr12k.js" as="script"><link rel="prefetch" href="/assets/index.html-CG6pkqpU.js" as="script"><link rel="prefetch" href="/assets/index.html-B36z9cJv.js" as="script"><link rel="prefetch" href="/assets/index.html-fTMvluKk.js" as="script"><link rel="prefetch" href="/assets/index.html-DCNBrLRQ.js" as="script"><link rel="prefetch" href="/assets/index.html-CGsNPNa0.js" as="script"><link rel="prefetch" href="/assets/index.html-BqVyC19r.js" as="script"><link rel="prefetch" href="/assets/index.html-D2nf00ow.js" as="script"><link rel="prefetch" href="/assets/index.html-COInHYqu.js" as="script"><link rel="prefetch" href="/assets/index.html-Chbm4mH6.js" as="script"><link rel="prefetch" href="/assets/index.html-W2B0dRwI.js" as="script"><link rel="prefetch" href="/assets/index.html-BUlkpK18.js" as="script"><link rel="prefetch" href="/assets/index.html-Cfs9L7fI.js" as="script"><link rel="prefetch" href="/assets/index.html-GVGxHVLE.js" as="script"><link rel="prefetch" href="/assets/index.html-Ch2SyZPw.js" as="script"><link rel="prefetch" href="/assets/404.html-BQ08fjuR.js" as="script"><link rel="prefetch" href="/assets/index.html-BjVEtomp.js" as="script"><link rel="prefetch" href="/assets/index.html-I7M9H6kr.js" as="script"><link rel="prefetch" href="/assets/index.html-C9hA5HtA.js" as="script"><link rel="prefetch" href="/assets/SearchBox-BquNHWNe.js" as="script"></head><body><div id="app"><!--[--><div class="theme-plume" data-v-0f4179d5><!--[--><!--[--><span tabindex="-1" data-v-ab0f771b></span><a href="#LayoutContent" class="skip-link visually-hidden" data-v-ab0f771b> Skip to content </a><!--]--><!----><div class="nav-wrapper" data-v-0f4179d5 data-v-4aa7bc5a><div class="navbar-wrapper has-sidebar" data-v-4aa7bc5a data-v-f397576e><div class="container" data-v-f397576e><div class="title" data-v-f397576e><div class="navbar-title has-sidebar" data-v-f397576e data-v-cdd38883><a class="auto-link link title" href="/" data-v-cdd38883 data-v-66dcefcc><!--[--><!--[--><!--[--><!--[--><img class="plume-image dark logo" src="/avatar.jpeg" alt data-v-00a6d3ab><!--]--><!--[--><img class="plume-image light logo" src="/avatar.jpeg" alt data-v-00a6d3ab><!--]--><!--]--><!--]--> <!--]--><!----></a></div></div><div class="content" data-v-f397576e><div class="curtain" data-v-f397576e></div><div class="content-body" data-v-f397576e><div class="navbar-search search" data-v-f397576e><div class="search-wrapper" data-v-f7169ce8><!----><div id="local-search" data-v-f7169ce8><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-f7169ce8><span class="mini-search-button-container"><svg class="mini-search-search-icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="navbar-menu menu" data-v-f397576e data-v-a3f1a60e><span id="main-nav-aria-label" class="visually-hidden" data-v-a3f1a60e>Main Navigation</span><!--[--><!--[--><a class="auto-link link navbar-menu-link" href="/" data-v-a3f1a60e data-v-681c4d02 data-v-66dcefcc><!--[--><!----><i data-v-681c4d02>首页</i><!--]--><!----></a><!--]--><!--[--><a class="auto-link link navbar-menu-link" href="/NGS/filetype/" data-v-a3f1a60e data-v-681c4d02 data-v-66dcefcc><!--[--><!----><i data-v-681c4d02>NGS</i><!--]--><!----></a><!--]--><!--[--><a class="auto-link link navbar-menu-link" href="/R/" data-v-a3f1a60e data-v-681c4d02 data-v-66dcefcc><!--[--><!----><i data-v-681c4d02>R</i><!--]--><!----></a><!--]--><!--[--><a class="auto-link link navbar-menu-link" href="/py/chara_py/" data-v-a3f1a60e data-v-681c4d02 data-v-66dcefcc><!--[--><!----><i data-v-681c4d02>Python</i><!--]--><!----></a><!--]--><!--[--><div class="flyout-wrapper navbar-menu-group" data-v-a3f1a60e data-v-8ad12054><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8ad12054><span class="text" data-v-8ad12054><!----><!----><span data-v-8ad12054>Analysis</span><span class="vpi-chevron-down text-icon" data-v-8ad12054></span></span></button><div class="menu" data-v-8ad12054><div class="menu-wrapper" data-v-8ad12054 data-v-a471995b><div class="items" data-v-a471995b><!--[--><!--[--><div class="menu-link" data-v-a471995b data-v-6e20746d><a class="auto-link link" href="/scRNA/" data-v-6e20746d data-v-66dcefcc><!--[--><!----><i data-v-6e20746d>scRNA</i><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="flyout-wrapper navbar-menu-group" data-v-a3f1a60e data-v-8ad12054><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8ad12054><span class="text" data-v-8ad12054><!----><!----><span data-v-8ad12054>资源</span><span class="vpi-chevron-down text-icon" data-v-8ad12054></span></span></button><div class="menu" data-v-8ad12054><div class="menu-wrapper" data-v-8ad12054 data-v-a471995b><div class="items" data-v-a471995b><!--[--><!--[--><div class="menu-link" data-v-a471995b data-v-6e20746d><a class="auto-link link" href="/bioinfo/" data-v-6e20746d data-v-66dcefcc><!--[--><!----><i data-v-6e20746d>学习</i><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="flyout-wrapper navbar-menu-group" data-v-a3f1a60e data-v-8ad12054><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8ad12054><span class="text" data-v-8ad12054><!----><!----><span data-v-8ad12054>Awesome</span><span class="vpi-chevron-down text-icon" data-v-8ad12054></span></span></button><div class="menu" data-v-8ad12054><div class="menu-wrapper" data-v-8ad12054 data-v-a471995b><div class="items" data-v-a471995b><!--[--><!--[--><div class="menu-link" data-v-a471995b data-v-6e20746d><a class="auto-link link" href="/awesome/command/" data-v-6e20746d data-v-66dcefcc><!--[--><!----><i data-v-6e20746d>Command</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-a471995b data-v-6e20746d><a class="auto-link link" href="/awesome/biotools/" data-v-6e20746d data-v-66dcefcc><!--[--><!----><i data-v-6e20746d>Tools</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-a471995b data-v-6e20746d><a class="auto-link link" href="/awesome/Rpkgs/" data-v-6e20746d data-v-66dcefcc><!--[--><!----><i data-v-6e20746d>R package</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-a471995b data-v-6e20746d><a class="auto-link link" href="/awesome/Plots/" data-v-6e20746d data-v-66dcefcc><!--[--><!----><i data-v-6e20746d>Plot</i><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="auto-link link navbar-menu-link" href="/blog/" data-v-a3f1a60e data-v-681c4d02 data-v-66dcefcc><!--[--><!----><i data-v-681c4d02>博客</i><!--]--><!----></a><!--]--><!--]--></nav><!----><div class="navbar-appearance appearance" data-v-f397576e data-v-2e93bdf2><button class="switch-wrapper switch-appearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-2e93bdf2 data-v-61e5dfef data-v-492a9bf8><span class="check" data-v-492a9bf8><span class="icon" data-v-492a9bf8><!--[--><span class="vpi-sun sun" data-v-61e5dfef></span><span class="vpi-moon moon" data-v-61e5dfef></span><!--]--></span></span></button></div><div class="social-links navbar-social-links social-links" data-v-f397576e data-v-e47592f0 data-v-82034cd4><!--[--><a class="social-link" href="https://github.com/Moonerss" aria-label="github" target="_blank" rel="noopener" data-v-82034cd4 data-v-595ca7ec><span class="vpi-social-github" /></a><!--]--></div><div class="flyout-wrapper navbar-extra extra" data-v-f397576e data-v-de8fb2b4 data-v-8ad12054><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8ad12054><span class="vpi-more-horizontal icon" data-v-8ad12054></span></button><div class="menu" data-v-8ad12054><div class="menu-wrapper" data-v-8ad12054 data-v-a471995b><!----><!--[--><!--[--><!----><div class="group" data-v-de8fb2b4><div class="item appearance" data-v-de8fb2b4><p class="label" data-v-de8fb2b4>外观</p><div class="appearance-action" data-v-de8fb2b4><button class="switch-wrapper switch-appearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-de8fb2b4 data-v-61e5dfef data-v-492a9bf8><span class="check" data-v-492a9bf8><span class="icon" data-v-492a9bf8><!--[--><span class="vpi-sun sun" data-v-61e5dfef></span><span class="vpi-moon moon" data-v-61e5dfef></span><!--]--></span></span></button></div></div></div><div class="group" data-v-de8fb2b4><div class="item social-links" data-v-de8fb2b4><div class="social-links social-links-list" data-v-de8fb2b4 data-v-82034cd4><!--[--><a class="social-link" href="https://github.com/Moonerss" aria-label="github" target="_blank" rel="noopener" data-v-82034cd4 data-v-595ca7ec><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><button type="button" class="navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-f397576e data-v-1925941b><span class="container" data-v-1925941b><span class="top" data-v-1925941b></span><span class="middle" data-v-1925941b></span><span class="bottom" data-v-1925941b></span></span></button></div></div></div></div><!----></div><div class="local-nav reached-top" data-v-0f4179d5 data-v-0b456a43><button class="menu" aria-expanded="false" aria-controls="SidebarNav" data-v-0b456a43><span class="vpi-align-left menu-icon" data-v-0b456a43></span><span class="menu-text" data-v-0b456a43>Menu</span></button><div class="local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-0b456a43 data-v-f6c5b43d><button class="" data-v-f6c5b43d>此页内容 <span class="vpi-chevron-right icon" data-v-f6c5b43d></span></button><!----></div></div><aside class="sidebar-wrapper" data-v-0f4179d5 data-v-e5d2823d><div class="curtain" data-v-e5d2823d></div><nav id="SidebarNav" class="nav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-e5d2823d><span id="sidebar-aria-label" class="visually-hidden" data-v-e5d2823d> Sidebar Navigation </span><!--[--><div class="group" data-v-e5d2823d><section class="sidebar-item level-0" data-v-e5d2823d data-v-19611753><!----><div class="items" data-v-19611753><!--[--><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/scRNA/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>单细胞数据分析笔记</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-e5d2823d><section class="sidebar-item level-0 is-link has-active" data-v-e5d2823d data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/scRNA/" data-v-19611753 data-v-66dcefcc><!--[--><h2 class="text" data-v-19611753>数据预处理</h2><!--]--><!----></a><!----></div><div class="items" data-v-19611753><!--[--><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/scRNA/cellranger/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>Cell Ranger使用基础</p><!--]--><!----></a><!----></div><!----></div><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/scRNA/basic/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>基础背景</p><!--]--><!----></a><!----></div><!----></div><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/scRNA/quanlity/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>细胞质控</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--></nav></aside><div id="LayoutContent" class="layout-content has-sidebar" data-v-0f4179d5 data-v-bdfa9fd7><!--[--><div class="has-sidebar has-aside plume-page" data-v-5c470ced><div class="container" data-v-5c470ced><div class="aside" data-v-5c470ced><div class="aside-container" data-v-5c470ced><div class="aside-content" data-v-5c470ced><div class="page-aside" data-v-5c470ced data-v-f97b8b42><div class="has-outline page-aside-outline" data-v-f97b8b42><div class="content" data-v-f97b8b42><div class="outline-marker" data-v-f97b8b42></div><div class="outline-title" data-v-f97b8b42><span data-v-f97b8b42>此页内容</span><span class="vpi-print icon" data-v-f97b8b42></span></div><nav aria-labelledby="doc-outline-aria-label" data-v-f97b8b42><span id="doc-outline-aria-label" class="visually-hidden" data-v-f97b8b42> Table of Contents for current page </span><ul class="root" data-v-f97b8b42 data-v-784c5b47><!--[--><li data-v-784c5b47><a class="outline-link" href="#背景" data-v-784c5b47>背景</a><!----></li><li data-v-784c5b47><a class="outline-link" href="#_10x-genomics-测序原理" data-v-784c5b47>10X genomics 测序原理</a><ul class="nested" data-v-784c5b47 data-v-784c5b47><!--[--><li data-v-784c5b47><a class="outline-link" href="#_10x简单原理" data-v-784c5b47>10X简单原理</a><!----></li><li data-v-784c5b47><a class="outline-link" href="#相关术语" data-v-784c5b47>相关术语</a><!----></li><!--]--></ul></li><li data-v-784c5b47><a class="outline-link" href="#cell-ranger-安装" data-v-784c5b47>cell ranger 安装</a><!----></li><li data-v-784c5b47><a class="outline-link" href="#使用命令" data-v-784c5b47>使用命令</a><ul class="nested" data-v-784c5b47 data-v-784c5b47><!--[--><li data-v-784c5b47><a class="outline-link" href="#cellranger-mkfastq" data-v-784c5b47>cellranger mkfastq</a><!----></li><li data-v-784c5b47><a class="outline-link" href="#cellranger-count" data-v-784c5b47>cellranger count</a><!----></li><li data-v-784c5b47><a class="outline-link" href="#cellranger-aggr" data-v-784c5b47>cellranger aggr</a><!----></li><li data-v-784c5b47><a class="outline-link" href="#cellranger-multi" data-v-784c5b47>cellranger multi</a><!----></li><li data-v-784c5b47><a class="outline-link" href="#cellranger-reanalyze" data-v-784c5b47>cellranger reanalyze</a><!----></li><!--]--></ul></li><li data-v-784c5b47><a class="outline-link" href="#使用说明" data-v-784c5b47>使用说明</a><!----></li><!--]--></ul></nav></div></div></div></div></div></div><div class="content" data-v-5c470ced><div class="content-container" data-v-5c470ced><!--[--><!----><h1 class="page-title" data-v-d86f3e1b>Cell Ranger使用基础</h1><div class="page-meta-wrapper" data-v-d86f3e1b><p class="author" data-v-d86f3e1b><span class="icon vpi-user" data-v-d86f3e1b></span><span data-v-d86f3e1b>Jeason</span></p><p class="reading-time" data-v-d86f3e1b><span class="vpi-books icon" data-v-d86f3e1b></span><span data-v-d86f3e1b>1883字</span><span data-v-d86f3e1b>约6分钟</span></p><!----><p class="create-time" data-v-d86f3e1b><span class="vpi-clock icon" data-v-d86f3e1b></span><span data-v-d86f3e1b>2024-10-05</span></p></div><!--]--><!--[--><div style="position:relative;" data-v-5c470ced><div class="plume-content" data-v-5c470ced><h2 id="背景" tabindex="-1"><a class="header-anchor" href="#背景"><span>背景</span></a></h2><p><code>Cell Ranger</code>是由10x Genomics公司提供的一套用于处理单细胞RNA测序数据的工具。官网对其进行了详细的介绍和使用说明。可以通过10x Genomics Cloud Analysis使用这个软件或者将其安装到本地。</p><h2 id="_10x-genomics-测序原理" tabindex="-1"><a class="header-anchor" href="#_10x-genomics-测序原理"><span>10X genomics 测序原理</span></a></h2><h3 id="_10x简单原理" tabindex="-1"><a class="header-anchor" href="#_10x简单原理"><span>10X简单原理</span></a></h3><p>一个油滴（GEM） = 一个单细胞 + 一个凝胶微珠 = 一次scRNA-seq <img src="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/raw1.png" alt=""></p><p>一个单细胞文库包含的微观信息如下： <img src="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/raw2.png" alt=""></p><p>对于V2试剂盒构建的序列结构如下: <img src="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/raw3.png" alt=""></p><p>对于V3试剂盒构建的序列结构如下: <img src="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/raw4.png" alt=""></p><ul><li>Barcode: 用来标记细胞</li><li>UMI (Unique Molecular Identifier): 用来标记转录本</li><li>PolyT: 用来捕获成熟的RNA</li><li></li></ul><h3 id="相关术语" tabindex="-1"><a class="header-anchor" href="#相关术语"><span>相关术语</span></a></h3><ul><li><strong>sample</strong>: (样本)从单一来源(比如血液、组织等)提取的细胞悬液</li><li><strong>Library</strong>: (文库)单个样本制备的10X barcode 测序文库，对应10X Chromium Controller一个run（即运行一次）的单个芯片通道</li><li><strong>Sequencing Run / Flowcell</strong>: 测序仪主要依靠flowcell（例如Hiseq4000就有2个flowcell），每运行一次就是run一次，数据会在flowcell上产出，然后这些数据又会根据flowcell上的不同lane以及lane上不同样本的index进行区分</li></ul><div class="hint-container tip"><p class="hint-container-title">提示</p><ul><li>单独一个样本可以制备成多个文库，这样可以一次run就得到更多的细胞数量，而不用在单次run的单个文库中使用全部的样品</li><li>单独一个样本可以跨多个flowcell测序，如果它们是在一次测序过程中产出，就可以将产出的reads合并</li><li>一个文库可以用多个flowcell，那么一个flowcell也可以包含多个文库，使用不同的lane上或者样本的index进行区分</li><li>同一个10x 芯片的两个channels可以说是两个文库，但是两个不同芯片的同一个channel不能说是两个文库</li></ul></div><h2 id="cell-ranger-安装" tabindex="-1"><a class="header-anchor" href="#cell-ranger-安装"><span>cell ranger 安装</span></a></h2><p>CellRanger必须在Linux系统下运行。首先去下载Linux版本对应的软件安装包，下载之前需要提交信息登陆10x Genomics。然后登录自己的服务器并使用mkdir 和cd等命令建立并进入到软件安装目录。使用下面的命令下载软件:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">## 使用 curl</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">curl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -o</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cellranger-8.0.1.tar.gz</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://cf.10xgenomics.com/releases/cell-exp/cellranger-8.0.1.tar.gz?Expires=1728179900&amp;Key-Pair-Id=APKAI7S6A5RYOXBWRPDA&amp;Signature=CJ5UER4VwoTgNMsuTsI9Bvv7Y5z0mjcGSDWIxun93bB-NlBZxr8C-vLaUyNfotsFTS3coAllmkcjnhW8rb9EAmA1oLFrNzaoPNmtff3DM1qk02cpdPbiChwXRW6c4NZ1Aw6YEiMoI4-KaYCCz6vrNhZ1NeKoFrM8RthKS5Br8-izW3i3RLdJsxyXW8BjOzKWtWH7rB7J2Mhg~MKez9-XJqMsmYDpSTBam1zFq42x5JMNrcMIuzZAzxunCFFZOPTlLO9RetLNPi2TcldZn2jsl8yuhQPXHqDhyBhysbDIAYodP8EyylYt0lNkuGuigVpqo0e1yyl1aqFG~9VnkExIcQ__</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">## 使用 wget 或axel 等</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wget</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -O</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cellranger-8.0.1.tar.gz</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://cf.10xgenomics.com/releases/cell-exp/cellranger-8.0.1.tar.gz?Expires=1728179900&amp;Key-Pair-Id=APKAI7S6A5RYOXBWRPDA&amp;Signature=CJ5UER4VwoTgNMsuTsI9Bvv7Y5z0mjcGSDWIxun93bB-NlBZxr8C-vLaUyNfotsFTS3coAllmkcjnhW8rb9EAmA1oLFrNzaoPNmtff3DM1qk02cpdPbiChwXRW6c4NZ1Aw6YEiMoI4-KaYCCz6vrNhZ1NeKoFrM8RthKS5Br8-izW3i3RLdJsxyXW8BjOzKWtWH7rB7J2Mhg~MKez9-XJqMsmYDpSTBam1zFq42x5JMNrcMIuzZAzxunCFFZOPTlLO9RetLNPi2TcldZn2jsl8yuhQPXHqDhyBhysbDIAYodP8EyylYt0lNkuGuigVpqo0e1yyl1aqFG~9VnkExIcQ__</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下载完成后解压文件：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tar</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -xzvf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cellranger-x.y.z.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>将cellrange文件添加到环境变量中，即可正常使用cellranger</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">export</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> PATH</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/path/to/cellrange:$PATH</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">cellranger</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -V</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># cellranger cellranger-7.2.0</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="使用命令" tabindex="-1"><a class="header-anchor" href="#使用命令"><span>使用命令</span></a></h2><p>cellranger提供了五个分析模块用于分析单细胞转录组数据</p><h3 id="cellranger-mkfastq" tabindex="-1"><a class="header-anchor" href="#cellranger-mkfastq"><span>cellranger mkfastq</span></a></h3><p>该命令封装了illumina的bcl2fastq软件，用来拆分illumina测序仪得到的BCL(raw base call)格式文件，输出fastq文件。</p><h4 id="使用方法" tabindex="-1"><a class="header-anchor" href="#使用方法"><span>使用方法</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">## 两种使用方法</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">cellranger</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mkfastq</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --id=tiny-bcl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">--run=/path/to/tiny_bcl </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">--csv=cellranger-tiny-bcl-simple-1.2.0.csv</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">cellranger</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mkfastq</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --id=tiny-bcl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">--run=/path/to/tiny_bcl </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">--csv=cellranger-tiny-bcl-simplesheet-1.2.0.csv</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果使用第一种，则<code>cellranger-tiny-bcl-simple-1.2.0.csv</code>需要包含以下信息：</p><div class="language-txt line-numbers-mode" data-ext="txt" data-title="txt"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span>Lane,Sample,Index</span></span>
<span class="line"><span>1,test_sample,SI-P03-C9</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Lane: 指定所在lane ID</li><li>Sample: 样本名称(来源于哪个GEM well，一般是一份生物样品，一个GEM well对应一个library，可以理解为下图芯片中的一个channel)</li><li>Index: 指定index的名称，10X genomics的每个index代表4条具体的oligo序列</li></ul><p>具体情况可以根据如下的测序芯片去理解。</p><p><img src="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/raw5.png" alt=""></p><p>根据建库的不同可以分为如下操作：</p><ol><li>两个不同的文库（或者说sample）在同一个flowcell上上机测序，执行一次<code>cellranger mkfastq</code>，得到不同样本的数据<br><img src="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/one_batch.png" alt="一次上机，两个文库"></li><li>一个文库分两次或多次上机，需要根据上机的不同分别执行<code>cellranger mkfastq</code><br><img src="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/two_batch.png" alt="多次上机，一个文库"></li></ol><p>如果使用第二种方法，需要准备的信息就多一些(如下图所示)，比如调整Reads中的序列长度，而使用简化版的csv文件，cell ranger可以识别所用试剂盒版本，然后自动化的调整reads长度。</p><p><img src="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/raw6.png" alt=""></p><h4 id="参数说明" tabindex="-1"><a class="header-anchor" href="#参数说明"><span>参数说明</span></a></h4><p><code>--run</code> 必选；BCL文件所在目录<br><code>--id</code> 可选；mkfastq将会生成相应目录，不接受绝对路径<br><code>--samplesheet</code> 可选. 样本名字、index等信息；<br><code>--output-dir</code> 指定FASTQ输出目录<br><code>--localcores</code> 运行的最大CPU数<br><code>--localmem</code> 运行的最大内存数</p><h3 id="cellranger-count" tabindex="-1"><a class="header-anchor" href="#cellranger-count"><span>cellranger count</span></a></h3><p>分析<code>cellranger mkfastq</code>或者其他方式得到fastq格式的文件。这个模块包括比对、过滤、barcoding计数以及UMI计数。可以生成barcode-UMI信息，进行聚类及基因表达分析。不过我们通常用到表达信息，使用其他方式进行聚类及其他单细胞相关分析。</p><p>在分析count之前需要先下载参考基因组</p><p>可以直接从10x Genmoics官网下载已经构建好的参考数据</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">curl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -O</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://cf.10xgenomics.com/supp/cell-exp/refdata-gex-GRCh38-2024-A.tar.gz</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 人</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">curl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -O</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://cf.10xgenomics.com/supp/cell-exp/refdata-gex-GRCm39-2024-A.tar.gz</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 小鼠</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>或使用<code>cellranger mkref</code>自己构建参考基因组</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">cellranger</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> count</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --id=sample345</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">--transcriptome=/path/to/refdata-gex-GRCh38-2020-A </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">--fastqs=/path/to/fastq </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">--sample=mysample </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">--localcores=8 </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">--localmem=64</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出结果包括以下信息：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Outputs:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Run</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> summary</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HTML:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                 /outdir/outs/web_summary.html</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Run</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> summary</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> CSV:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                  /opt/sample345/outs/metrics_summary.csv</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> BAM:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                              /opt/sample345/outs/possorted_genome_bam.bam</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> BAM</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> index:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                        /opt/sample345/outs/possorted_genome_bam.bam.bai</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Filtered</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-barcode</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> matrices</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> MEX:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /opt/sample345/outs/filtered_feature_bc_matrix</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Filtered</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-barcode</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> matrices</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HDF5:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /opt/sample345/outs/filtered_feature_bc_matrix.h5</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">......</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>count</code>分析完成之后可以打开<code>web_summary.html</code>文件查看报告，重点关注Summary，来判断文库构建及测序是否合格。</p><h3 id="cellranger-aggr" tabindex="-1"><a class="header-anchor" href="#cellranger-aggr"><span>cellranger aggr</span></a></h3><p>当实验中用到多个<code>GEM well</code>并且想要放在一起分析时需要先使用<code>Cellranger count</code>分析各自<code>GEM well</code>的fastq文件，然后再用<code>Cellranger aggr</code>将这些运行归一化到相同的测序深度，然后重新计算特征条形码矩阵并对组合数据进行分析。aggr管道可用于将来自多个样本的数据组合成一个实验范围内的特征条形码矩阵和分析。</p><div class="hint-container info"><p class="hint-container-title">相关信息</p><p><strong>什么是GEM well</strong><br> 每个<code>GEM well</code>是10X芯片上的一个单独的区室，从barcode池(barcode whitelist)中随机获取barcode用于标记细胞。为了保证整合多个文库时barcode不发生冲突，通常会在barcode后面加一个数字，标记其来源的GEM well，如AGACCATTGAGACTTA-1和AGACCATTGAGACTTA-2，barcode序列一样，但来源于不同的GEM well，也是不同的细胞。</p></div><h3 id="cellranger-multi" tabindex="-1"><a class="header-anchor" href="#cellranger-multi"><span>cellranger multi</span></a></h3><p><code>cellranger multi</code>用于分析Cell Multiplexing和Fixed RNA Profiling数据。它从<code>cellranger mkfastq</code>中获取FASTQ文件，并执行对齐、过滤、条形码计数和UMI计数。它使用Chromium细胞条形码生成特征条形码矩阵，确定簇，并执行基因表达分析。<code>cellranger multi</code>还支持特征条码数据的分析。</p><h3 id="cellranger-reanalyze" tabindex="-1"><a class="header-anchor" href="#cellranger-reanalyze"><span>cellranger reanalyze</span></a></h3><p><code>cellranger reanalyze</code>采用由<code>cellranger count</code>、<code>cellranger multi</code>或<code>cellrange aggr</code>产生的特征条形码矩阵，并使用可调参数设置重新运行降维、聚类和基因表达算法。</p><h2 id="使用说明" tabindex="-1"><a class="header-anchor" href="#使用说明"><span>使用说明</span></a></h2><p>根据不同的情景，cellranger流程需要进行不同的调整，具体的分析操作可以分为以下几种：</p><ol><li>单个样本，单次建库，单次上机<br><img src="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/flow1.png" alt=""></li><li>单个样本，单次建库，多次上机<br><img src="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/flow2.png" alt=""></li><li>单个样本，多次建库，单次上机<br><img src="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/flow3.png" alt=""></li><li>多个样本，多次建库，单次上机<br><img src="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/flow4.png" alt=""></li><li>多个样本，单次建库，单次上机<br><img src="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/flow5.png" alt=""><img src="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cellranger/flow6.png" alt=""></li></ol></div><!----></div><footer class="page-footer" data-v-5c470ced data-v-13de951c><div class="edit-info" data-v-13de951c><div class="edit-link" data-v-13de951c><a class="auto-link link edit-link-button" href="https://github.com/Moonerss/blog/edit/main/docs/notes/Analysis/scRNA/cellranger.md" target="_blank" rel="noreferrer" data-v-13de951c data-v-66dcefcc><!--[--><span class="vpi-square-pen edit-link-icon" aria-label="edit icon" data-v-13de951c></span> 在 GitHub 上编辑此页<!--]--><!----></a></div><!----></div><!----><nav class="prev-next" data-v-13de951c><div class="pager" data-v-13de951c><a class="auto-link link pager-link prev" href="/scRNA/" data-v-13de951c data-v-66dcefcc><!--[--><span class="desc" data-v-13de951c>上一页</span><span class="title" data-v-13de951c>数据预处理</span><!--]--><!----></a></div><div class="pager" data-v-13de951c><a class="auto-link link pager-link next" href="/scRNA/basic/" data-v-13de951c data-v-66dcefcc><!--[--><span class="desc" data-v-13de951c>下一页</span><span class="title" data-v-13de951c>基础背景</span><!--]--><!----></a></div></nav></footer><!----><!--]--></div></div></div></div><button style="display:none;" type="button" class="back-to-top-button" aria-label="back to top" data-v-0f4179d5 data-v-0af269ee><span class="percent" data-v-0af269ee>0%</span><span class="show icon vpi-back-to-top" data-v-0af269ee></span><svg aria-hidden="true" data-v-0af269ee><circle cx="50%" cy="50%" style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-0af269ee></circle></svg></button><footer class="plume-footer has-sidebar" data-v-0f4179d5 data-v-24205ac6><div class="container" data-v-24205ac6><p class="message" data-v-24205ac6>Power by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://github.com/pengzhanbo/vuepress-theme-plume">vuepress-theme-plume</a></p><p class="copyright" data-v-24205ac6>Copyright © 2024-present Jeason</p></div></footer><!--]--></div><!--]--></div><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-B6iXF0Jq.js" defer></script></body></html>