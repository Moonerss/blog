<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.9" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.55" /><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();</script><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><meta property="og:url" content="https://jeason.netlify.app/stats/cox/"><meta property="og:title" content="Cox回归"><meta property="og:description" content="Cox回归分析是在生存分析中最常用的影响因素分析，回归模型的前提假设只有一个：分析的因素必须满足比例风险假设，即协变量不随时间的变化而变化。 Cox比例风险模型 Cox回归模型建模的主要对象是危险率（Hazard Rate），记作h(t)，它的基本形式： 它表示已生存到时间t的观察对象在t时刻的瞬时发生事件的概率，值为非负数。当Δt=1时，此时风险函数..."><meta property="og:type" content="article"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cox-regression/pic1.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-05-13T11:10:56.000Z"><meta property="article:author" content="Jeason"><meta property="article:tag" content="stats"><meta property="article:modified_time" content="2024-05-13T11:10:56.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Cox回归","image":["https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cox-regression/pic1.png","https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cox-regression/pic2.png","https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cox-regression/pic3.png","https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cox-regression/pic4.png"],"dateModified":"2024-05-13T11:10:56.000Z","author":[{"@type":"Person","name":"Jeason"}]}</script><title>Cox回归</title><meta name="description" content="Cox回归分析是在生存分析中最常用的影响因素分析，回归模型的前提假设只有一个：分析的因素必须满足比例风险假设，即协变量不随时间的变化而变化。 Cox比例风险模型 Cox回归模型建模的主要对象是危险率（Hazard Rate），记作h(t)，它的基本形式： 它表示已生存到时间t的观察对象在t时刻的瞬时发生事件的概率，值为非负数。当Δt=1时，此时风险函数..."><link rel="preload" href="/assets/style-Btq4_Wsb.css" as="style"><link rel="stylesheet" href="/assets/style-Btq4_Wsb.css"><link rel="modulepreload" href="/assets/app-B6iXF0Jq.js"><link rel="modulepreload" href="/assets/index.html-DffBPlth.js"><link rel="prefetch" href="/assets/index.html-CUrxfrQc.js" as="script"><link rel="prefetch" href="/assets/index.html-CrAAK11M.js" as="script"><link rel="prefetch" href="/assets/index.html-m1OCkFZ4.js" as="script"><link rel="prefetch" href="/assets/index.html-DpklKbiB.js" as="script"><link rel="prefetch" href="/assets/index.html-DgeLdBCj.js" as="script"><link rel="prefetch" href="/assets/index.html-DdZynjPU.js" as="script"><link rel="prefetch" href="/assets/index.html-BS80wPCd.js" as="script"><link rel="prefetch" href="/assets/index.html-BDnM9U8u.js" as="script"><link rel="prefetch" href="/assets/index.html-CS0xlF23.js" as="script"><link rel="prefetch" href="/assets/index.html-Dc44YILr.js" as="script"><link rel="prefetch" href="/assets/index.html-DAVdhX44.js" as="script"><link rel="prefetch" href="/assets/index.html-_b2y8g5I.js" as="script"><link rel="prefetch" href="/assets/index.html-BqX5xppv.js" as="script"><link rel="prefetch" href="/assets/index.html-Cr8adLcz.js" as="script"><link rel="prefetch" href="/assets/index.html-aGgTAbqG.js" as="script"><link rel="prefetch" href="/assets/index.html-CIx_NjWC.js" as="script"><link rel="prefetch" href="/assets/index.html-DaxJZeyl.js" as="script"><link rel="prefetch" href="/assets/index.html-BqVSKbYR.js" as="script"><link rel="prefetch" href="/assets/index.html-CAEqmjhx.js" as="script"><link rel="prefetch" href="/assets/index.html-D1TpMNoD.js" as="script"><link rel="prefetch" href="/assets/index.html-BW7qw9ey.js" as="script"><link rel="prefetch" href="/assets/index.html-C0eVu9B2.js" as="script"><link rel="prefetch" href="/assets/index.html-BpHHyRYb.js" as="script"><link rel="prefetch" href="/assets/index.html-YcWnNOR3.js" as="script"><link rel="prefetch" href="/assets/index.html-DvPeHpKr.js" as="script"><link rel="prefetch" href="/assets/index.html-GVb_j2ww.js" as="script"><link rel="prefetch" href="/assets/index.html-B2XCVCvE.js" as="script"><link rel="prefetch" href="/assets/index.html-B2wzp7sF.js" as="script"><link rel="prefetch" href="/assets/index.html-DHrdR7yz.js" as="script"><link rel="prefetch" href="/assets/index.html-D7Nph3ek.js" as="script"><link rel="prefetch" href="/assets/index.html-bO5aQHC3.js" as="script"><link rel="prefetch" href="/assets/index.html-oWXVgFcb.js" as="script"><link rel="prefetch" href="/assets/index.html-BtvxEcyn.js" as="script"><link rel="prefetch" href="/assets/index.html-SVI69W9E.js" as="script"><link rel="prefetch" href="/assets/index.html-BbxuFSWY.js" as="script"><link rel="prefetch" href="/assets/index.html-BFe9KGsX.js" as="script"><link rel="prefetch" href="/assets/index.html-CcUcGsU8.js" as="script"><link rel="prefetch" href="/assets/index.html-DuXvOCtn.js" as="script"><link rel="prefetch" href="/assets/index.html-CsYVP1Ee.js" as="script"><link rel="prefetch" href="/assets/index.html-BZNXvoee.js" as="script"><link rel="prefetch" href="/assets/index.html-D5byNOA9.js" as="script"><link rel="prefetch" href="/assets/index.html-BIpJcaMq.js" as="script"><link rel="prefetch" href="/assets/index.html-Cclvrn0C.js" as="script"><link rel="prefetch" href="/assets/index.html-DBRMJnkP.js" as="script"><link rel="prefetch" href="/assets/index.html-C4wOU-pC.js" as="script"><link rel="prefetch" href="/assets/index.html-D46SKBHM.js" as="script"><link rel="prefetch" href="/assets/index.html-BJzbp6fj.js" as="script"><link rel="prefetch" href="/assets/index.html-BuuWC_5c.js" as="script"><link rel="prefetch" href="/assets/index.html-BdXimPXg.js" as="script"><link rel="prefetch" href="/assets/index.html-Co7EU3KZ.js" as="script"><link rel="prefetch" href="/assets/index.html-DLv0WxRB.js" as="script"><link rel="prefetch" href="/assets/index.html-T3K5oxvg.js" as="script"><link rel="prefetch" href="/assets/index.html-dRmPcSI7.js" as="script"><link rel="prefetch" href="/assets/index.html-B0QIdxhL.js" as="script"><link rel="prefetch" href="/assets/index.html-DR8uFVGu.js" as="script"><link rel="prefetch" href="/assets/index.html-BqRbC-7N.js" as="script"><link rel="prefetch" href="/assets/index.html-ByKbSJv4.js" as="script"><link rel="prefetch" href="/assets/index.html-DnflFzVH.js" as="script"><link rel="prefetch" href="/assets/index.html-CoTzCY4j.js" as="script"><link rel="prefetch" href="/assets/index.html-Bg9CM87b.js" as="script"><link rel="prefetch" href="/assets/index.html-DG8mpR12.js" as="script"><link rel="prefetch" href="/assets/index.html-BWVnAnPc.js" as="script"><link rel="prefetch" href="/assets/index.html-dPFDGAnR.js" as="script"><link rel="prefetch" href="/assets/index.html-DKU3ACQJ.js" as="script"><link rel="prefetch" href="/assets/index.html-BgklZS89.js" as="script"><link rel="prefetch" href="/assets/index.html-DcsZqy80.js" as="script"><link rel="prefetch" href="/assets/index.html-BqSD2tD7.js" as="script"><link rel="prefetch" href="/assets/index.html-DruOQWAv.js" as="script"><link rel="prefetch" href="/assets/index.html-A9a2zzOf.js" as="script"><link rel="prefetch" href="/assets/index.html-D8r7fOa3.js" as="script"><link rel="prefetch" href="/assets/index.html-BXN1kcgZ.js" as="script"><link rel="prefetch" href="/assets/index.html-6s8u9tWA.js" as="script"><link rel="prefetch" href="/assets/index.html-C1tWJLKR.js" as="script"><link rel="prefetch" href="/assets/index.html-Ck8QB2Yk.js" as="script"><link rel="prefetch" href="/assets/index.html-vvppFMQ8.js" as="script"><link rel="prefetch" href="/assets/index.html-CoTDsdMc.js" as="script"><link rel="prefetch" href="/assets/index.html-DFWqG11e.js" as="script"><link rel="prefetch" href="/assets/index.html-DBQ_Pf_a.js" as="script"><link rel="prefetch" href="/assets/index.html-CogZr12k.js" as="script"><link rel="prefetch" href="/assets/index.html-CG6pkqpU.js" as="script"><link rel="prefetch" href="/assets/index.html-Qe4RZEFP.js" as="script"><link rel="prefetch" href="/assets/index.html-B36z9cJv.js" as="script"><link rel="prefetch" href="/assets/index.html-fTMvluKk.js" as="script"><link rel="prefetch" href="/assets/index.html-DCNBrLRQ.js" as="script"><link rel="prefetch" href="/assets/index.html-CGsNPNa0.js" as="script"><link rel="prefetch" href="/assets/index.html-BqVyC19r.js" as="script"><link rel="prefetch" href="/assets/index.html-D2nf00ow.js" as="script"><link rel="prefetch" href="/assets/index.html-COInHYqu.js" as="script"><link rel="prefetch" href="/assets/index.html-Chbm4mH6.js" as="script"><link rel="prefetch" href="/assets/index.html-W2B0dRwI.js" as="script"><link rel="prefetch" href="/assets/index.html-BUlkpK18.js" as="script"><link rel="prefetch" href="/assets/index.html-Cfs9L7fI.js" as="script"><link rel="prefetch" href="/assets/index.html-GVGxHVLE.js" as="script"><link rel="prefetch" href="/assets/index.html-Ch2SyZPw.js" as="script"><link rel="prefetch" href="/assets/404.html-BQ08fjuR.js" as="script"><link rel="prefetch" href="/assets/index.html-BjVEtomp.js" as="script"><link rel="prefetch" href="/assets/index.html-I7M9H6kr.js" as="script"><link rel="prefetch" href="/assets/index.html-C9hA5HtA.js" as="script"><link rel="prefetch" href="/assets/SearchBox-BquNHWNe.js" as="script"></head><body><div id="app"><!--[--><div class="theme-plume" data-v-0f4179d5><!--[--><!--[--><span tabindex="-1" data-v-ab0f771b></span><a href="#LayoutContent" class="skip-link visually-hidden" data-v-ab0f771b> Skip to content </a><!--]--><!----><div class="nav-wrapper" data-v-0f4179d5 data-v-4aa7bc5a><div class="navbar-wrapper" data-v-4aa7bc5a data-v-f397576e><div class="container" data-v-f397576e><div class="title" data-v-f397576e><div class="navbar-title" data-v-f397576e data-v-cdd38883><a class="auto-link link title" href="/" data-v-cdd38883 data-v-66dcefcc><!--[--><!--[--><!--[--><!--[--><img class="plume-image dark logo" src="/avatar.jpeg" alt data-v-00a6d3ab><!--]--><!--[--><img class="plume-image light logo" src="/avatar.jpeg" alt data-v-00a6d3ab><!--]--><!--]--><!--]--> <!--]--><!----></a></div></div><div class="content" data-v-f397576e><div class="curtain" data-v-f397576e></div><div class="content-body" data-v-f397576e><div class="navbar-search search" data-v-f397576e><div class="search-wrapper" data-v-f7169ce8><!----><div id="local-search" data-v-f7169ce8><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-f7169ce8><span class="mini-search-button-container"><svg class="mini-search-search-icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="navbar-menu menu" data-v-f397576e data-v-a3f1a60e><span id="main-nav-aria-label" class="visually-hidden" data-v-a3f1a60e>Main Navigation</span><!--[--><!--[--><a class="auto-link link navbar-menu-link" href="/" data-v-a3f1a60e data-v-681c4d02 data-v-66dcefcc><!--[--><!----><i data-v-681c4d02>首页</i><!--]--><!----></a><!--]--><!--[--><a class="auto-link link navbar-menu-link" href="/NGS/filetype/" data-v-a3f1a60e data-v-681c4d02 data-v-66dcefcc><!--[--><!----><i data-v-681c4d02>NGS</i><!--]--><!----></a><!--]--><!--[--><a class="auto-link link navbar-menu-link" href="/R/" data-v-a3f1a60e data-v-681c4d02 data-v-66dcefcc><!--[--><!----><i data-v-681c4d02>R</i><!--]--><!----></a><!--]--><!--[--><a class="auto-link link navbar-menu-link" href="/py/chara_py/" data-v-a3f1a60e data-v-681c4d02 data-v-66dcefcc><!--[--><!----><i data-v-681c4d02>Python</i><!--]--><!----></a><!--]--><!--[--><div class="flyout-wrapper navbar-menu-group" data-v-a3f1a60e data-v-8ad12054><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8ad12054><span class="text" data-v-8ad12054><!----><!----><span data-v-8ad12054>Analysis</span><span class="vpi-chevron-down text-icon" data-v-8ad12054></span></span></button><div class="menu" data-v-8ad12054><div class="menu-wrapper" data-v-8ad12054 data-v-a471995b><div class="items" data-v-a471995b><!--[--><!--[--><div class="menu-link" data-v-a471995b data-v-6e20746d><a class="auto-link link" href="/scRNA/" data-v-6e20746d data-v-66dcefcc><!--[--><!----><i data-v-6e20746d>scRNA</i><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="flyout-wrapper navbar-menu-group" data-v-a3f1a60e data-v-8ad12054><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8ad12054><span class="text" data-v-8ad12054><!----><!----><span data-v-8ad12054>资源</span><span class="vpi-chevron-down text-icon" data-v-8ad12054></span></span></button><div class="menu" data-v-8ad12054><div class="menu-wrapper" data-v-8ad12054 data-v-a471995b><div class="items" data-v-a471995b><!--[--><!--[--><div class="menu-link" data-v-a471995b data-v-6e20746d><a class="auto-link link" href="/bioinfo/" data-v-6e20746d data-v-66dcefcc><!--[--><!----><i data-v-6e20746d>学习</i><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="flyout-wrapper navbar-menu-group" data-v-a3f1a60e data-v-8ad12054><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8ad12054><span class="text" data-v-8ad12054><!----><!----><span data-v-8ad12054>Awesome</span><span class="vpi-chevron-down text-icon" data-v-8ad12054></span></span></button><div class="menu" data-v-8ad12054><div class="menu-wrapper" data-v-8ad12054 data-v-a471995b><div class="items" data-v-a471995b><!--[--><!--[--><div class="menu-link" data-v-a471995b data-v-6e20746d><a class="auto-link link" href="/awesome/command/" data-v-6e20746d data-v-66dcefcc><!--[--><!----><i data-v-6e20746d>Command</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-a471995b data-v-6e20746d><a class="auto-link link" href="/awesome/biotools/" data-v-6e20746d data-v-66dcefcc><!--[--><!----><i data-v-6e20746d>Tools</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-a471995b data-v-6e20746d><a class="auto-link link" href="/awesome/Rpkgs/" data-v-6e20746d data-v-66dcefcc><!--[--><!----><i data-v-6e20746d>R package</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-a471995b data-v-6e20746d><a class="auto-link link" href="/awesome/Plots/" data-v-6e20746d data-v-66dcefcc><!--[--><!----><i data-v-6e20746d>Plot</i><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="auto-link link navbar-menu-link" href="/blog/" data-v-a3f1a60e data-v-681c4d02 data-v-66dcefcc><!--[--><!----><i data-v-681c4d02>博客</i><!--]--><!----></a><!--]--><!--]--></nav><!----><div class="navbar-appearance appearance" data-v-f397576e data-v-2e93bdf2><button class="switch-wrapper switch-appearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-2e93bdf2 data-v-61e5dfef data-v-492a9bf8><span class="check" data-v-492a9bf8><span class="icon" data-v-492a9bf8><!--[--><span class="vpi-sun sun" data-v-61e5dfef></span><span class="vpi-moon moon" data-v-61e5dfef></span><!--]--></span></span></button></div><div class="social-links navbar-social-links social-links" data-v-f397576e data-v-e47592f0 data-v-82034cd4><!--[--><a class="social-link" href="https://github.com/Moonerss" aria-label="github" target="_blank" rel="noopener" data-v-82034cd4 data-v-595ca7ec><span class="vpi-social-github" /></a><!--]--></div><div class="flyout-wrapper navbar-extra extra" data-v-f397576e data-v-de8fb2b4 data-v-8ad12054><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8ad12054><span class="vpi-more-horizontal icon" data-v-8ad12054></span></button><div class="menu" data-v-8ad12054><div class="menu-wrapper" data-v-8ad12054 data-v-a471995b><!----><!--[--><!--[--><!----><div class="group" data-v-de8fb2b4><div class="item appearance" data-v-de8fb2b4><p class="label" data-v-de8fb2b4>外观</p><div class="appearance-action" data-v-de8fb2b4><button class="switch-wrapper switch-appearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-de8fb2b4 data-v-61e5dfef data-v-492a9bf8><span class="check" data-v-492a9bf8><span class="icon" data-v-492a9bf8><!--[--><span class="vpi-sun sun" data-v-61e5dfef></span><span class="vpi-moon moon" data-v-61e5dfef></span><!--]--></span></span></button></div></div></div><div class="group" data-v-de8fb2b4><div class="item social-links" data-v-de8fb2b4><div class="social-links social-links-list" data-v-de8fb2b4 data-v-82034cd4><!--[--><a class="social-link" href="https://github.com/Moonerss" aria-label="github" target="_blank" rel="noopener" data-v-82034cd4 data-v-595ca7ec><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><button type="button" class="navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-f397576e data-v-1925941b><span class="container" data-v-1925941b><span class="top" data-v-1925941b></span><span class="middle" data-v-1925941b></span><span class="bottom" data-v-1925941b></span></span></button></div></div></div></div><!----></div><div class="local-nav reached-top is-blog" data-v-0f4179d5 data-v-0b456a43><button class="hidden menu" disabled aria-expanded="false" aria-controls="SidebarNav" data-v-0b456a43><span class="vpi-align-left menu-icon" data-v-0b456a43></span><span class="menu-text" data-v-0b456a43>Menu</span></button><div class="local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-0b456a43 data-v-f6c5b43d><button class="" data-v-f6c5b43d>此页内容 <span class="vpi-chevron-right icon" data-v-f6c5b43d></span></button><!----></div></div><!----><div id="LayoutContent" class="layout-content" data-v-0f4179d5 data-v-bdfa9fd7><!--[--><div class="has-aside is-blog plume-page" data-v-5c470ced><div class="container" data-v-5c470ced><div class="aside" data-v-5c470ced><div class="aside-container" data-v-5c470ced><div class="aside-content" data-v-5c470ced><div class="page-aside" data-v-5c470ced data-v-f97b8b42><div class="has-outline page-aside-outline" data-v-f97b8b42><div class="content" data-v-f97b8b42><div class="outline-marker" data-v-f97b8b42></div><div class="outline-title" data-v-f97b8b42><span data-v-f97b8b42>此页内容</span><span class="vpi-print icon" data-v-f97b8b42></span></div><nav aria-labelledby="doc-outline-aria-label" data-v-f97b8b42><span id="doc-outline-aria-label" class="visually-hidden" data-v-f97b8b42> Table of Contents for current page </span><ul class="root" data-v-f97b8b42 data-v-784c5b47><!--[--><li data-v-784c5b47><a class="outline-link" href="#cox比例风险模型" data-v-784c5b47>Cox比例风险模型</a><!----></li><li data-v-784c5b47><a class="outline-link" href="#比例风险的假设的检验" data-v-784c5b47>比例风险的假设的检验</a><!----></li><li data-v-784c5b47><a class="outline-link" href="#r语言实现" data-v-784c5b47>R语言实现</a><ul class="nested" data-v-784c5b47 data-v-784c5b47><!--[--><li data-v-784c5b47><a class="outline-link" href="#单因素cox分析" data-v-784c5b47>单因素cox分析</a><!----></li><li data-v-784c5b47><a class="outline-link" href="#多因素cox分析" data-v-784c5b47>多因素cox分析</a><!----></li><!--]--></ul></li><li data-v-784c5b47><a class="outline-link" href="#注意事项" data-v-784c5b47>注意事项</a><!----></li><li data-v-784c5b47><a class="outline-link" href="#references" data-v-784c5b47>References:</a><!----></li><!--]--></ul></nav></div></div></div></div></div></div><div class="content" data-v-5c470ced><div class="content-container" data-v-5c470ced><!--[--><div class="page-category-wrapper" data-v-d86f3e1b><!--[--><!--[--><span class="category" data-v-d86f3e1b>stats</span><!----><!--]--><!--]--></div><h1 class="page-title" data-v-d86f3e1b>Cox回归</h1><div class="page-meta-wrapper" data-v-d86f3e1b><p class="author" data-v-d86f3e1b><span class="icon vpi-user" data-v-d86f3e1b></span><span data-v-d86f3e1b>Jeason</span></p><p class="reading-time" data-v-d86f3e1b><span class="vpi-books icon" data-v-d86f3e1b></span><span data-v-d86f3e1b>1893字</span><span data-v-d86f3e1b>约6分钟</span></p><p data-v-d86f3e1b><span class="vpi-tag icon" data-v-d86f3e1b></span><!--[--><span class="tag" style="--vp-tag-color:#fab10f;--vp-tag-bg-color:rgba(255, 213, 0, 0.14);" data-v-d86f3e1b>stats</span><!--]--></p><p class="create-time" data-v-d86f3e1b><span class="vpi-clock icon" data-v-d86f3e1b></span><span data-v-d86f3e1b>2018-04-23</span></p></div><!--]--><!--[--><div style="position:relative;" data-v-5c470ced><div class="plume-content" data-v-5c470ced><p>Cox回归分析是在生存分析中最常用的影响因素分析，回归模型的前提假设只有一个：分析的因素必须满足<strong>比例风险假设</strong>，即协变量不随时间的变化而变化。</p><h2 id="cox比例风险模型" tabindex="-1"><a class="header-anchor" href="#cox比例风险模型"><span>Cox比例风险模型</span></a></h2><p>Cox回归模型建模的主要对象是危险率（Hazard Rate），记作<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span>，它的基本形式：</p><div style="text-align:center;"><p><img src="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cox-regression/pic1.png" alt=""></p></div><p>它表示已生存到时间<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span>的观察对象在t时刻的瞬时发生事件的概率，值为非负数。当<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>t</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">Δt=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Δ</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>时，此时风险函数表示的就是时刻t存活的个体在此后一个单位死亡概率。</p><p>Cox回归的假设是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">h</span></span></span></span>满足这样的分布：</p><div style="text-align:center;"><p><img src="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cox-regression/pic2.png" alt=""></p></div><p>其中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mn>0</mn></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h_0(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span>我们不要去管它,，表示的是基线风险，即协变量为0时的风险率。对于两个对象，它们危险率的比值（Hazard Ratio）是和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mn>0</mn></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h_0(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span>无关的。</p><div style="text-align:center;"><p><img src="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cox-regression/pic3.png" alt=""></p></div><p><strong>对于每一个因素，如果回归系数的检验检验p值小于给定阈值，那么它的回归系数如果为正，该因素为风险因素，否则为保护因素（不利因素）。当确定该因素确实影响生存之后，影响力的大小可以用HR（hazard ratio）来表示。HR表示该影响因素增加一个单位风险率相对于原来增加多少倍。</strong></p><p>总结起来就是：</p><ul><li>P&lt;0.05,β&gt;0，HR&gt;1(95%CI &gt;1)，说明变量X增加时，危险率增加，即X是危险因素；</li><li>P&lt;0.05,β&lt;0，HR&lt;1(95%CI &lt;1)，说明变量X增加时，危险率下降，即X是保护因素；</li><li>P=0.05,β较大可能=0，HR较大可能=1，说明变量X增加时，危险率不变，即X是危险无关因素。</li></ul><h2 id="比例风险的假设的检验" tabindex="-1"><a class="header-anchor" href="#比例风险的假设的检验"><span>比例风险的假设的检验</span></a></h2><p>该假设主要用于评估<strong>协变量是否可以用于cox风险回归模型。但是，一般都不需要进行评估。</strong></p><p>判断一个变量是否满足比例风险模型假设有以下三种方式：</p><ul><li>如果协变量为类协变量（即category var），那么每组别的K-M生存曲线无交叉，则满足比例风险假设；</li><li>以生存时间t为横轴，对数对数生存率ln[-ln(p)]为纵轴，绘制分类变量的每一组别的生存曲线，如果各组别对应的曲线直观上平行，则满足风险比例条件。</li><li>对于连续型协变量，可将每个协变量与对数生存时间的交互项X*ln(t)放入回归模型中，如果该将互相项没有统计学意义，则满足风险比例假设，如：</li></ul><div style="text-align:center;"><p><img src="https://cdn.jsdelivr.net/gh/Moonerss/CDN/paper/cox-regression/pic4.png" alt=""></p></div><p><strong>当分析按比例风险的假定条件不成立是，可采用两种方法来解决</strong>：</p><ul><li>将这种不满足假定的协变量作为分层变量，然后再用其余变量进行多元Cox回归模型分析。（分层分析）</li><li>使用其他的参数模型。</li></ul><h2 id="r语言实现" tabindex="-1"><a class="header-anchor" href="#r语言实现"><span>R语言实现</span></a></h2><ul><li><p><strong>survival</strong>用于计算生存分析</p></li><li><p><strong>survminer</strong>用于可视化生存分析结果</p></li></ul><h3 id="单因素cox分析" tabindex="-1"><a class="header-anchor" href="#单因素cox分析"><span>单因素cox分析</span></a></h3><div class="language-r line-numbers-mode" data-ext="r" data-title="r"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">library</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">survival</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">res.cox</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &lt;-</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> coxph</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Surv</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">time</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> status</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ~</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> sex</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> lung</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Call</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">coxph</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">formula</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Surv</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">time</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> status</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ~</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> sex</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> lung</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      coef</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> exp</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">coef</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">se</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">coef</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     z</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      p</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">sex</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> -</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.531</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     0.588</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    0.167</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> -</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3.18</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.0015</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Likelihood</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> ratio</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> test</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10.6</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  on</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> df</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">p</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.00111</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">n</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 228</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">number</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> of</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> events</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 165</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">summary</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">res.cox</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Call</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">coxph</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">formula</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Surv</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">time</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> status</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ~</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> sex</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> lung</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  n</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 228</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">number</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> of</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> events</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 165</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">       coef</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> exp</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">coef</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">se</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">coef</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      z</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Pr</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;|</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">z</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">   </span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">sex</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> -</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.5310</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    0.5880</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   0.1672</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> -</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3.176</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0.00149</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> **</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">---</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Signif</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">. </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">codes</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">*</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.001</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;&#39;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.01</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">*</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.05</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">.</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.1</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    exp</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">coef</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">exp</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">coef</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">lower</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> .95</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> upper</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> .95</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">sex</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     0.588</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">      1.701</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    0.4237</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     0.816</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Concordance</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.579</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">  (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">se</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.022</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> )</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Rsquare</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.046</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">   (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">max</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> possible</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.999</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> )</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Likelihood</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> ratio</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> test</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.63</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  on</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> df</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,   </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">p</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.001111</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Wald</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> test</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">            =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.09</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  on</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> df</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,   </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">p</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.001491</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Score</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">logrank</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> test</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.33</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  on</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> df</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,   </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">p</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.001312</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结果的各项指标解释如下：</p><ol><li><em><strong>Statistical significance</strong></em>. z值给出了Wald统计值。它对应于每个回归系数与其标准误差的比率（z = coef / se（coef））。 wald统计量评估给定变量的系数（β）是否在统计学上显著，由上可知，变量性别具有高度统计上显著的系数。</li><li><em><strong>The regression coefficients</strong></em>. Cox模型结果中要注意的第二个特征是回归系数（coef）的符号。如果回归系数为正值，说明死亡风险高，预后差；为负值，则风险低，预后好。 R给出的是第二组相对于第一组的风险比（HR），即女性对男性。在这些数据中，性别的β系数= -0.53表明女性的死亡风险（低存活率）低于男性。</li><li><em><strong>Hazard ratios</strong></em>. 指数系数（exp（coef）= exp（-0.53）= 0.59）也称为风险比，给出协变量的效应大小。 例如，女性（性别= 2）的风险降低了0.59倍，即41％。 女性与预后良好相关。</li><li><em><strong>Confidence intervals of the hazard ratios</strong></em>. 给出了风险比（exp（coef））的95％置信区间的上限和下限。</li><li><em><strong>Global statistical significance of the model</strong></em>. 三个检验模型的P值：The likelihood-ratio test, Wald test, and score logrank statistics.这三种方法是类似的，如果样本量足够大，则三个方法会得到相同的结果，当样本量较小时，The likelihood-ratio test能得到较好的结果。</li></ol><h3 id="多因素cox分析" tabindex="-1"><a class="header-anchor" href="#多因素cox分析"><span>多因素cox分析</span></a></h3><div class="language-r line-numbers-mode" data-ext="r" data-title="r"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">res.cox</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &lt;-</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> coxph</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Surv</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">time</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> status</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ~</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> age</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> +</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> sex</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> +</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> ph.ecog</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  lung</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">summary</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">res.cox</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Call</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">coxph</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">formula</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Surv</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">time</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> status</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ~</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> age</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> +</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> sex</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> +</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> ph.ecog</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> lung</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  n</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 227</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">number</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> of</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> events</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 164</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">   (</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> observation</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> deleted</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> due</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> to</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> missingness</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">             coef</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> exp</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">coef</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)  </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">se</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">coef</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      z</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Pr</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;|</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">z</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">age</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">      0.011067</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1.011128</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0.009267</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1.194</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.232416</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">sex</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">     -</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.552612</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0.575445</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0.167739</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> -</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3.294</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.000986</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ***</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">ph.ecog</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0.463728</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1.589991</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0.113577</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  4.083</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 4.45e-05</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ***</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">---</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Signif</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">. </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">codes</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">***</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.001</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">**</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.01</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">*</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.05</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">.</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.1</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        exp</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">coef</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">exp</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">coef</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">lower</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> .95</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> upper</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> .95</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">age</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        1.0111</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     0.9890</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    0.9929</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    1.0297</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">sex</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        0.5754</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1.7378</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    0.4142</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    0.7994</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">ph.ecog</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    1.5900</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     0.6289</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    1.2727</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    1.9864</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Concordance</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.637</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">  (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">se</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.026</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> )</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Rsquare</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.126</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">   (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">max</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> possible</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.999</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> )</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Likelihood</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> ratio</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> test</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 30.5</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  on</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> df</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,   </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">p</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1.083e-06</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Wald</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> test</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">            =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 29.93</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  on</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> df</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,   </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">p</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1.428e-06</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Score</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">logrank</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> test</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 30.5</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  on</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> df</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,   </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">p</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1.083e-06</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>由上可知：在三种检验方法中，p值都是显著的。这表明了该模型的重要性。</p><p>在多变量Cox分析中，协变量<code>sex</code>和<code>ph.ecog</code>仍然显着（p &lt;0.05）。然而，协变量<code>age</code>并不显着（p = 0.23）。</p><blockquote><p><code>sex</code>的p值为0.000986，危险比HR = exp（coef）= 0.58，表明患者性别与死亡风险降低之间有很强的关系。协变量的风险比可以解释为对风险的倍增效应。例如，将其他协变量保持不变，即女性（<code>sex</code>= 2）可将风险降低0.58倍，即降低42％。我们的结论是，女性与良好的预后相关。</p><p>类似地，<code>ph.ecog</code>的p值为4.45e-05，危险比HR = 1.59，表明<code>ph.ecog</code>值与死亡风险增加之间的强关系。保持其他协变量不变，<code>ph.ecog</code>的较高值与生存率较差相关。</p><p>相比之下，<code>age</code>的p = 0.23。风险比HR = exp（coef）= 1.01，95％置信区间为0.99至1.03。由于HR的置信区间包括1，因此这些结果表明年龄在调整<code>ph.ecog</code>和<code>sex</code>后对HR差异的贡献较小，并且仅趋向于显着性。例如，将其他协变量保持不变，额外的一年会导致每日死亡风险的因数为exp（beta）= 1.01或1％，这不是一个重大贡献。</p></blockquote><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><ol><li>年龄，作为连续变量，一般情况是默认服从比例风险假设的，可以直接进行回归分析。</li><li>单因素分析一方面可初步筛选出可能与预后有关的因素；另一方面去除那些根本不可能相关的因素，以减少建立多元回归模型时的“压力”。</li></ol><h2 id="references" tabindex="-1"><a class="header-anchor" href="#references"><span>References:</span></a></h2><p>Cox Proportional Hazards Model<a href="http://www.sthda.com/english/wiki/cox-proportional-hazards-model" target="_blank" rel="noopener noreferrer">http://www.sthda.com/english/wiki/cox-proportional-hazards-model<span class="vpi-external-link external-icon" data-v-0cf2c236></span></a></p></div><!----></div><footer class="page-footer" data-v-5c470ced data-v-13de951c><div class="edit-info" data-v-13de951c><div class="edit-link" data-v-13de951c><a class="auto-link link edit-link-button" href="https://github.com/Moonerss/blog/edit/main/docs/stats/cox.md" target="_blank" rel="noreferrer" data-v-13de951c data-v-66dcefcc><!--[--><span class="vpi-square-pen edit-link-icon" aria-label="edit icon" data-v-13de951c></span> 在 GitHub 上编辑此页<!--]--><!----></a></div><!----></div><!----><nav class="prev-next" data-v-13de951c><div class="pager" data-v-13de951c><a class="auto-link link pager-link prev" href="/blog/git/" data-v-13de951c data-v-66dcefcc><!--[--><span class="desc" data-v-13de951c>上一页</span><span class="title" data-v-13de951c>git与github的使用简介</span><!--]--><!----></a></div><div class="pager" data-v-13de951c><!----></div></nav></footer><!----><!--]--></div></div></div></div><button style="display:none;" type="button" class="back-to-top-button" aria-label="back to top" data-v-0f4179d5 data-v-0af269ee><span class="percent" data-v-0af269ee>0%</span><span class="show icon vpi-back-to-top" data-v-0af269ee></span><svg aria-hidden="true" data-v-0af269ee><circle cx="50%" cy="50%" style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-0af269ee></circle></svg></button><footer class="plume-footer" data-v-0f4179d5 data-v-24205ac6><div class="container" data-v-24205ac6><p class="message" data-v-24205ac6>Power by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://github.com/pengzhanbo/vuepress-theme-plume">vuepress-theme-plume</a></p><p class="copyright" data-v-24205ac6>Copyright © 2024-present Jeason</p></div></footer><!--]--></div><!--]--></div><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-B6iXF0Jq.js" defer></script></body></html>