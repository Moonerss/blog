<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.9" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.55" /><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();</script><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><meta property="og:url" content="https://jeason.netlify.app/R/tidyverse/tidyr/"><meta property="og:title" content="tidyr"><meta property="og:description" content="tidyr是reshape2的进阶版本，它提供了更加定制化的数据整洁功能，用于数据的合并、拆分以及长宽格式的转化 主要涉及的操作： 缺失值的补充 长形表变宽形表，宽形表变长形表 gather-把宽度较大的数据转换成一个更长的形式，它类比于从reshape2包中melt函数的功能 spread-把长的数据转换成一个更宽的形式，它类比于从reshape2包..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-05-13T13:59:34.000Z"><meta property="article:author" content="Jeason"><meta property="article:modified_time" content="2024-05-13T13:59:34.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"tidyr","image":[""],"dateModified":"2024-05-13T13:59:34.000Z","author":[{"@type":"Person","name":"Jeason"}]}</script><title>tidyr</title><meta name="description" content="tidyr是reshape2的进阶版本，它提供了更加定制化的数据整洁功能，用于数据的合并、拆分以及长宽格式的转化 主要涉及的操作： 缺失值的补充 长形表变宽形表，宽形表变长形表 gather-把宽度较大的数据转换成一个更长的形式，它类比于从reshape2包中melt函数的功能 spread-把长的数据转换成一个更宽的形式，它类比于从reshape2包..."><link rel="preload" href="/assets/style-Btq4_Wsb.css" as="style"><link rel="stylesheet" href="/assets/style-Btq4_Wsb.css"><link rel="modulepreload" href="/assets/app-B6iXF0Jq.js"><link rel="modulepreload" href="/assets/index.html-Ch2SyZPw.js"><link rel="prefetch" href="/assets/index.html-CUrxfrQc.js" as="script"><link rel="prefetch" href="/assets/index.html-CrAAK11M.js" as="script"><link rel="prefetch" href="/assets/index.html-m1OCkFZ4.js" as="script"><link rel="prefetch" href="/assets/index.html-DpklKbiB.js" as="script"><link rel="prefetch" href="/assets/index.html-DgeLdBCj.js" as="script"><link rel="prefetch" href="/assets/index.html-DdZynjPU.js" as="script"><link rel="prefetch" href="/assets/index.html-BS80wPCd.js" as="script"><link rel="prefetch" href="/assets/index.html-BDnM9U8u.js" as="script"><link rel="prefetch" href="/assets/index.html-CS0xlF23.js" as="script"><link rel="prefetch" href="/assets/index.html-Dc44YILr.js" as="script"><link rel="prefetch" href="/assets/index.html-DAVdhX44.js" as="script"><link rel="prefetch" href="/assets/index.html-_b2y8g5I.js" as="script"><link rel="prefetch" href="/assets/index.html-BqX5xppv.js" as="script"><link rel="prefetch" href="/assets/index.html-Cr8adLcz.js" as="script"><link rel="prefetch" href="/assets/index.html-aGgTAbqG.js" as="script"><link rel="prefetch" href="/assets/index.html-CIx_NjWC.js" as="script"><link rel="prefetch" href="/assets/index.html-DaxJZeyl.js" as="script"><link rel="prefetch" href="/assets/index.html-BqVSKbYR.js" as="script"><link rel="prefetch" href="/assets/index.html-CAEqmjhx.js" as="script"><link rel="prefetch" href="/assets/index.html-D1TpMNoD.js" as="script"><link rel="prefetch" href="/assets/index.html-BW7qw9ey.js" as="script"><link rel="prefetch" href="/assets/index.html-C0eVu9B2.js" as="script"><link rel="prefetch" href="/assets/index.html-BpHHyRYb.js" as="script"><link rel="prefetch" href="/assets/index.html-YcWnNOR3.js" as="script"><link rel="prefetch" href="/assets/index.html-DvPeHpKr.js" as="script"><link rel="prefetch" href="/assets/index.html-GVb_j2ww.js" as="script"><link rel="prefetch" href="/assets/index.html-B2XCVCvE.js" as="script"><link rel="prefetch" href="/assets/index.html-B2wzp7sF.js" as="script"><link rel="prefetch" href="/assets/index.html-DHrdR7yz.js" as="script"><link rel="prefetch" href="/assets/index.html-D7Nph3ek.js" as="script"><link rel="prefetch" href="/assets/index.html-bO5aQHC3.js" as="script"><link rel="prefetch" href="/assets/index.html-oWXVgFcb.js" as="script"><link rel="prefetch" href="/assets/index.html-BtvxEcyn.js" as="script"><link rel="prefetch" href="/assets/index.html-SVI69W9E.js" as="script"><link rel="prefetch" href="/assets/index.html-BbxuFSWY.js" as="script"><link rel="prefetch" href="/assets/index.html-BFe9KGsX.js" as="script"><link rel="prefetch" href="/assets/index.html-CcUcGsU8.js" as="script"><link rel="prefetch" href="/assets/index.html-DuXvOCtn.js" as="script"><link rel="prefetch" href="/assets/index.html-CsYVP1Ee.js" as="script"><link rel="prefetch" href="/assets/index.html-BZNXvoee.js" as="script"><link rel="prefetch" href="/assets/index.html-DffBPlth.js" as="script"><link rel="prefetch" href="/assets/index.html-D5byNOA9.js" as="script"><link rel="prefetch" href="/assets/index.html-BIpJcaMq.js" as="script"><link rel="prefetch" href="/assets/index.html-Cclvrn0C.js" as="script"><link rel="prefetch" href="/assets/index.html-DBRMJnkP.js" as="script"><link rel="prefetch" href="/assets/index.html-C4wOU-pC.js" as="script"><link rel="prefetch" href="/assets/index.html-D46SKBHM.js" as="script"><link rel="prefetch" href="/assets/index.html-BJzbp6fj.js" as="script"><link rel="prefetch" href="/assets/index.html-BuuWC_5c.js" as="script"><link rel="prefetch" href="/assets/index.html-BdXimPXg.js" as="script"><link rel="prefetch" href="/assets/index.html-Co7EU3KZ.js" as="script"><link rel="prefetch" href="/assets/index.html-DLv0WxRB.js" as="script"><link rel="prefetch" href="/assets/index.html-T3K5oxvg.js" as="script"><link rel="prefetch" href="/assets/index.html-dRmPcSI7.js" as="script"><link rel="prefetch" href="/assets/index.html-B0QIdxhL.js" as="script"><link rel="prefetch" href="/assets/index.html-DR8uFVGu.js" as="script"><link rel="prefetch" href="/assets/index.html-BqRbC-7N.js" as="script"><link rel="prefetch" href="/assets/index.html-ByKbSJv4.js" as="script"><link rel="prefetch" href="/assets/index.html-DnflFzVH.js" as="script"><link rel="prefetch" href="/assets/index.html-CoTzCY4j.js" as="script"><link rel="prefetch" href="/assets/index.html-Bg9CM87b.js" as="script"><link rel="prefetch" href="/assets/index.html-DG8mpR12.js" as="script"><link rel="prefetch" href="/assets/index.html-BWVnAnPc.js" as="script"><link rel="prefetch" href="/assets/index.html-dPFDGAnR.js" as="script"><link rel="prefetch" href="/assets/index.html-DKU3ACQJ.js" as="script"><link rel="prefetch" href="/assets/index.html-BgklZS89.js" as="script"><link rel="prefetch" href="/assets/index.html-DcsZqy80.js" as="script"><link rel="prefetch" href="/assets/index.html-BqSD2tD7.js" as="script"><link rel="prefetch" href="/assets/index.html-DruOQWAv.js" as="script"><link rel="prefetch" href="/assets/index.html-A9a2zzOf.js" as="script"><link rel="prefetch" href="/assets/index.html-D8r7fOa3.js" as="script"><link rel="prefetch" href="/assets/index.html-BXN1kcgZ.js" as="script"><link rel="prefetch" href="/assets/index.html-6s8u9tWA.js" as="script"><link rel="prefetch" href="/assets/index.html-C1tWJLKR.js" as="script"><link rel="prefetch" href="/assets/index.html-Ck8QB2Yk.js" as="script"><link rel="prefetch" href="/assets/index.html-vvppFMQ8.js" as="script"><link rel="prefetch" href="/assets/index.html-CoTDsdMc.js" as="script"><link rel="prefetch" href="/assets/index.html-DFWqG11e.js" as="script"><link rel="prefetch" href="/assets/index.html-DBQ_Pf_a.js" as="script"><link rel="prefetch" href="/assets/index.html-CogZr12k.js" as="script"><link rel="prefetch" href="/assets/index.html-CG6pkqpU.js" as="script"><link rel="prefetch" href="/assets/index.html-Qe4RZEFP.js" as="script"><link rel="prefetch" href="/assets/index.html-B36z9cJv.js" as="script"><link rel="prefetch" href="/assets/index.html-fTMvluKk.js" as="script"><link rel="prefetch" href="/assets/index.html-DCNBrLRQ.js" as="script"><link rel="prefetch" href="/assets/index.html-CGsNPNa0.js" as="script"><link rel="prefetch" href="/assets/index.html-BqVyC19r.js" as="script"><link rel="prefetch" href="/assets/index.html-D2nf00ow.js" as="script"><link rel="prefetch" href="/assets/index.html-COInHYqu.js" as="script"><link rel="prefetch" href="/assets/index.html-Chbm4mH6.js" as="script"><link rel="prefetch" href="/assets/index.html-W2B0dRwI.js" as="script"><link rel="prefetch" href="/assets/index.html-BUlkpK18.js" as="script"><link rel="prefetch" href="/assets/index.html-Cfs9L7fI.js" as="script"><link rel="prefetch" href="/assets/index.html-GVGxHVLE.js" as="script"><link rel="prefetch" href="/assets/404.html-BQ08fjuR.js" as="script"><link rel="prefetch" href="/assets/index.html-BjVEtomp.js" as="script"><link rel="prefetch" href="/assets/index.html-I7M9H6kr.js" as="script"><link rel="prefetch" href="/assets/index.html-C9hA5HtA.js" as="script"><link rel="prefetch" href="/assets/SearchBox-BquNHWNe.js" as="script"></head><body><div id="app"><!--[--><div class="theme-plume" data-v-0f4179d5><!--[--><!--[--><span tabindex="-1" data-v-ab0f771b></span><a href="#LayoutContent" class="skip-link visually-hidden" data-v-ab0f771b> Skip to content </a><!--]--><!----><div class="nav-wrapper" data-v-0f4179d5 data-v-4aa7bc5a><div class="navbar-wrapper has-sidebar" data-v-4aa7bc5a data-v-f397576e><div class="container" data-v-f397576e><div class="title" data-v-f397576e><div class="navbar-title has-sidebar" data-v-f397576e data-v-cdd38883><a class="auto-link link title" href="/" data-v-cdd38883 data-v-66dcefcc><!--[--><!--[--><!--[--><!--[--><img class="plume-image dark logo" src="/avatar.jpeg" alt data-v-00a6d3ab><!--]--><!--[--><img class="plume-image light logo" src="/avatar.jpeg" alt data-v-00a6d3ab><!--]--><!--]--><!--]--> <!--]--><!----></a></div></div><div class="content" data-v-f397576e><div class="curtain" data-v-f397576e></div><div class="content-body" data-v-f397576e><div class="navbar-search search" data-v-f397576e><div class="search-wrapper" data-v-f7169ce8><!----><div id="local-search" data-v-f7169ce8><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-f7169ce8><span class="mini-search-button-container"><svg class="mini-search-search-icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="navbar-menu menu" data-v-f397576e data-v-a3f1a60e><span id="main-nav-aria-label" class="visually-hidden" data-v-a3f1a60e>Main Navigation</span><!--[--><!--[--><a class="auto-link link navbar-menu-link" href="/" data-v-a3f1a60e data-v-681c4d02 data-v-66dcefcc><!--[--><!----><i data-v-681c4d02>首页</i><!--]--><!----></a><!--]--><!--[--><a class="auto-link link navbar-menu-link" href="/NGS/filetype/" data-v-a3f1a60e data-v-681c4d02 data-v-66dcefcc><!--[--><!----><i data-v-681c4d02>NGS</i><!--]--><!----></a><!--]--><!--[--><a class="auto-link link navbar-menu-link active" href="/R/" data-v-a3f1a60e data-v-681c4d02 data-v-66dcefcc><!--[--><!----><i data-v-681c4d02>R</i><!--]--><!----></a><!--]--><!--[--><a class="auto-link link navbar-menu-link" href="/py/chara_py/" data-v-a3f1a60e data-v-681c4d02 data-v-66dcefcc><!--[--><!----><i data-v-681c4d02>Python</i><!--]--><!----></a><!--]--><!--[--><div class="flyout-wrapper navbar-menu-group" data-v-a3f1a60e data-v-8ad12054><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8ad12054><span class="text" data-v-8ad12054><!----><!----><span data-v-8ad12054>Analysis</span><span class="vpi-chevron-down text-icon" data-v-8ad12054></span></span></button><div class="menu" data-v-8ad12054><div class="menu-wrapper" data-v-8ad12054 data-v-a471995b><div class="items" data-v-a471995b><!--[--><!--[--><div class="menu-link" data-v-a471995b data-v-6e20746d><a class="auto-link link" href="/scRNA/" data-v-6e20746d data-v-66dcefcc><!--[--><!----><i data-v-6e20746d>scRNA</i><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="flyout-wrapper navbar-menu-group" data-v-a3f1a60e data-v-8ad12054><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8ad12054><span class="text" data-v-8ad12054><!----><!----><span data-v-8ad12054>资源</span><span class="vpi-chevron-down text-icon" data-v-8ad12054></span></span></button><div class="menu" data-v-8ad12054><div class="menu-wrapper" data-v-8ad12054 data-v-a471995b><div class="items" data-v-a471995b><!--[--><!--[--><div class="menu-link" data-v-a471995b data-v-6e20746d><a class="auto-link link" href="/bioinfo/" data-v-6e20746d data-v-66dcefcc><!--[--><!----><i data-v-6e20746d>学习</i><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="flyout-wrapper navbar-menu-group" data-v-a3f1a60e data-v-8ad12054><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8ad12054><span class="text" data-v-8ad12054><!----><!----><span data-v-8ad12054>Awesome</span><span class="vpi-chevron-down text-icon" data-v-8ad12054></span></span></button><div class="menu" data-v-8ad12054><div class="menu-wrapper" data-v-8ad12054 data-v-a471995b><div class="items" data-v-a471995b><!--[--><!--[--><div class="menu-link" data-v-a471995b data-v-6e20746d><a class="auto-link link" href="/awesome/command/" data-v-6e20746d data-v-66dcefcc><!--[--><!----><i data-v-6e20746d>Command</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-a471995b data-v-6e20746d><a class="auto-link link" href="/awesome/biotools/" data-v-6e20746d data-v-66dcefcc><!--[--><!----><i data-v-6e20746d>Tools</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-a471995b data-v-6e20746d><a class="auto-link link" href="/awesome/Rpkgs/" data-v-6e20746d data-v-66dcefcc><!--[--><!----><i data-v-6e20746d>R package</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-a471995b data-v-6e20746d><a class="auto-link link" href="/awesome/Plots/" data-v-6e20746d data-v-66dcefcc><!--[--><!----><i data-v-6e20746d>Plot</i><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="auto-link link navbar-menu-link" href="/blog/" data-v-a3f1a60e data-v-681c4d02 data-v-66dcefcc><!--[--><!----><i data-v-681c4d02>博客</i><!--]--><!----></a><!--]--><!--]--></nav><!----><div class="navbar-appearance appearance" data-v-f397576e data-v-2e93bdf2><button class="switch-wrapper switch-appearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-2e93bdf2 data-v-61e5dfef data-v-492a9bf8><span class="check" data-v-492a9bf8><span class="icon" data-v-492a9bf8><!--[--><span class="vpi-sun sun" data-v-61e5dfef></span><span class="vpi-moon moon" data-v-61e5dfef></span><!--]--></span></span></button></div><div class="social-links navbar-social-links social-links" data-v-f397576e data-v-e47592f0 data-v-82034cd4><!--[--><a class="social-link" href="https://github.com/Moonerss" aria-label="github" target="_blank" rel="noopener" data-v-82034cd4 data-v-595ca7ec><span class="vpi-social-github" /></a><!--]--></div><div class="flyout-wrapper navbar-extra extra" data-v-f397576e data-v-de8fb2b4 data-v-8ad12054><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8ad12054><span class="vpi-more-horizontal icon" data-v-8ad12054></span></button><div class="menu" data-v-8ad12054><div class="menu-wrapper" data-v-8ad12054 data-v-a471995b><!----><!--[--><!--[--><!----><div class="group" data-v-de8fb2b4><div class="item appearance" data-v-de8fb2b4><p class="label" data-v-de8fb2b4>外观</p><div class="appearance-action" data-v-de8fb2b4><button class="switch-wrapper switch-appearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-de8fb2b4 data-v-61e5dfef data-v-492a9bf8><span class="check" data-v-492a9bf8><span class="icon" data-v-492a9bf8><!--[--><span class="vpi-sun sun" data-v-61e5dfef></span><span class="vpi-moon moon" data-v-61e5dfef></span><!--]--></span></span></button></div></div></div><div class="group" data-v-de8fb2b4><div class="item social-links" data-v-de8fb2b4><div class="social-links social-links-list" data-v-de8fb2b4 data-v-82034cd4><!--[--><a class="social-link" href="https://github.com/Moonerss" aria-label="github" target="_blank" rel="noopener" data-v-82034cd4 data-v-595ca7ec><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><button type="button" class="navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-f397576e data-v-1925941b><span class="container" data-v-1925941b><span class="top" data-v-1925941b></span><span class="middle" data-v-1925941b></span><span class="bottom" data-v-1925941b></span></span></button></div></div></div></div><!----></div><div class="local-nav reached-top" data-v-0f4179d5 data-v-0b456a43><button class="menu" aria-expanded="false" aria-controls="SidebarNav" data-v-0b456a43><span class="vpi-align-left menu-icon" data-v-0b456a43></span><span class="menu-text" data-v-0b456a43>Menu</span></button><div class="local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-0b456a43 data-v-f6c5b43d><button class="" data-v-f6c5b43d>此页内容 <span class="vpi-chevron-right icon" data-v-f6c5b43d></span></button><!----></div></div><aside class="sidebar-wrapper" data-v-0f4179d5 data-v-e5d2823d><div class="curtain" data-v-e5d2823d></div><nav id="SidebarNav" class="nav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-e5d2823d><span id="sidebar-aria-label" class="visually-hidden" data-v-e5d2823d> Sidebar Navigation </span><!--[--><div class="group" data-v-e5d2823d><section class="sidebar-item level-0 collapsible collapsed" data-v-e5d2823d data-v-19611753><div class="item" role="button" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><h2 class="text" data-v-19611753>零星概念</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-19611753><span class="vpi-chevron-right caret-icon" data-v-19611753></span></div></div><div class="items" data-v-19611753><!--[--><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/typeof/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>数据类型</p><!--]--><!----></a><!----></div><!----></div><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/r_object/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>面向对象编程</p><!--]--><!----></a><!----></div><!----></div><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/file_r/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>文件操作</p><!--]--><!----></a><!----></div><!----></div><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/apply/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>apply家族</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-e5d2823d><section class="sidebar-item level-0 collapsible collapsed" data-v-e5d2823d data-v-19611753><div class="item" role="button" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><h2 class="text" data-v-19611753>使用案例</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-19611753><span class="vpi-chevron-right caret-icon" data-v-19611753></span></div></div><div class="items" data-v-19611753><!--[--><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/r_stats/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>R 语言统计检验函数汇总</p><!--]--><!----></a><!----></div><!----></div><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/trycatch/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>tryCatch抓取错误</p><!--]--><!----></a><!----></div><!----></div><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/library_require/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>library和require的差别</p><!--]--><!----></a><!----></div><!----></div><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/cut/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>cut函数使用</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-e5d2823d><section class="sidebar-item level-0 collapsible has-active" data-v-e5d2823d data-v-19611753><div class="item" role="button" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><h2 class="text" data-v-19611753>tidyverse</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-19611753><span class="vpi-chevron-right caret-icon" data-v-19611753></span></div></div><div class="items" data-v-19611753><!--[--><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/tidyverse/readr/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>readr</p><!--]--><!----></a><!----></div><!----></div><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/tidyverse/tibble/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>tibble</p><!--]--><!----></a><!----></div><!----></div><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/tidyverse/tidyr/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>tidyr</p><!--]--><!----></a><!----></div><!----></div><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/tidyverse/dplyr/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>dplyr</p><!--]--><!----></a><!----></div><!----></div><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/tidyverse/purrr/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>purrr</p><!--]--><!----></a><!----></div><!----></div><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/tidyverse/stringr/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>stringr</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-e5d2823d><section class="sidebar-item level-0 collapsible collapsed" data-v-e5d2823d data-v-19611753><div class="item" role="button" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><h2 class="text" data-v-19611753>ggplot2</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-19611753><span class="vpi-chevron-right caret-icon" data-v-19611753></span></div></div><div class="items" data-v-19611753><!--[--><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/ggplot2/ggplot_tips/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>小部件参考</p><!--]--><!----></a><!----></div><!----></div><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/ggplot2/ggplot_gallery/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>绘图示例</p><!--]--><!----></a><!----></div><!----></div><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/ggplot2/combine_ggplot2/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>组合多张ggplot2图片</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-e5d2823d><section class="sidebar-item level-0 collapsible collapsed" data-v-e5d2823d data-v-19611753><div class="item" role="button" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><h2 class="text" data-v-19611753>R包开发</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-19611753><span class="vpi-chevron-right caret-icon" data-v-19611753></span></div></div><div class="items" data-v-19611753><!--[--><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/pkgs/question/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>R包构建问题汇总</p><!--]--><!----></a><!----></div><!----></div><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/pkgs/S3/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>基于S3的面向对象编程</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-e5d2823d><section class="sidebar-item level-0 collapsible collapsed" data-v-e5d2823d data-v-19611753><div class="item" role="button" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><h2 class="text" data-v-19611753>其他</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-19611753><span class="vpi-chevron-right caret-icon" data-v-19611753></span></div></div><div class="items" data-v-19611753><!--[--><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/format/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>R语言代码规范</p><!--]--><!----></a><!----></div><!----></div><div class="sidebar-item level-1 is-link" data-v-19611753 data-v-19611753><div class="item" tabindex="0" data-v-19611753><div class="indicator" data-v-19611753></div><!----><a class="auto-link link link" href="/R/parallel/" data-v-19611753 data-v-66dcefcc><!--[--><p class="text" data-v-19611753>并行运算</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--></nav></aside><div id="LayoutContent" class="layout-content has-sidebar" data-v-0f4179d5 data-v-bdfa9fd7><!--[--><div class="has-sidebar has-aside plume-page" data-v-5c470ced><div class="container" data-v-5c470ced><div class="aside" data-v-5c470ced><div class="aside-container" data-v-5c470ced><div class="aside-content" data-v-5c470ced><div class="page-aside" data-v-5c470ced data-v-f97b8b42><div class="has-outline page-aside-outline" data-v-f97b8b42><div class="content" data-v-f97b8b42><div class="outline-marker" data-v-f97b8b42></div><div class="outline-title" data-v-f97b8b42><span data-v-f97b8b42>此页内容</span><span class="vpi-print icon" data-v-f97b8b42></span></div><nav aria-labelledby="doc-outline-aria-label" data-v-f97b8b42><span id="doc-outline-aria-label" class="visually-hidden" data-v-f97b8b42> Table of Contents for current page </span><ul class="root" data-v-f97b8b42 data-v-784c5b47><!--[--><li data-v-784c5b47><a class="outline-link" href="#数据重构" data-v-784c5b47>数据重构</a><ul class="nested" data-v-784c5b47 data-v-784c5b47><!--[--><li data-v-784c5b47><a class="outline-link" href="#gather" data-v-784c5b47>gather</a><!----></li><li data-v-784c5b47><a class="outline-link" href="#spread" data-v-784c5b47>spread</a><!----></li><!--]--></ul></li><li data-v-784c5b47><a class="outline-link" href="#拆分合并" data-v-784c5b47>拆分合并</a><ul class="nested" data-v-784c5b47 data-v-784c5b47><!--[--><li data-v-784c5b47><a class="outline-link" href="#unite" data-v-784c5b47>unite</a><!----></li><li data-v-784c5b47><a class="outline-link" href="#separate" data-v-784c5b47>separate</a><!----></li><!--]--></ul></li><li data-v-784c5b47><a class="outline-link" href="#数据拓展" data-v-784c5b47>数据拓展</a><ul class="nested" data-v-784c5b47 data-v-784c5b47><!--[--><li data-v-784c5b47><a class="outline-link" href="#complete" data-v-784c5b47>complete</a><!----></li><!--]--></ul></li><li data-v-784c5b47><a class="outline-link" href="#缺失值处理" data-v-784c5b47>缺失值处理</a><ul class="nested" data-v-784c5b47 data-v-784c5b47><!--[--><li data-v-784c5b47><a class="outline-link" href="#drop-na" data-v-784c5b47>drop_na</a><!----></li><li data-v-784c5b47><a class="outline-link" href="#fill" data-v-784c5b47>fill</a><!----></li><li data-v-784c5b47><a class="outline-link" href="#replace-na" data-v-784c5b47>replace_na</a><!----></li><!--]--></ul></li><!--]--></ul></nav></div></div></div></div></div></div><div class="content" data-v-5c470ced><div class="content-container" data-v-5c470ced><!--[--><!----><h1 class="page-title" data-v-d86f3e1b>tidyr</h1><div class="page-meta-wrapper" data-v-d86f3e1b><p class="author" data-v-d86f3e1b><span class="icon vpi-user" data-v-d86f3e1b></span><span data-v-d86f3e1b>Jeason</span></p><p class="reading-time" data-v-d86f3e1b><span class="vpi-books icon" data-v-d86f3e1b></span><span data-v-d86f3e1b>1892字</span><span data-v-d86f3e1b>约6分钟</span></p><!----><p class="create-time" data-v-d86f3e1b><span class="vpi-clock icon" data-v-d86f3e1b></span><span data-v-d86f3e1b>2019-04-04</span></p></div><!--]--><!--[--><div style="position:relative;" data-v-5c470ced><div class="plume-content" data-v-5c470ced><p>tidyr是reshape2的进阶版本，它提供了更加定制化的数据整洁功能，用于数据的合并、拆分以及长宽格式的转化</p><p>主要涉及的操作：</p><ol><li>缺失值的补充</li><li>长形表变宽形表，宽形表变长形表 <ul><li>gather-把宽度较大的数据转换成一个更长的形式，它类比于从reshape2包中melt函数的功能</li><li>spread-把长的数据转换成一个更宽的形式，它类比于从reshape2包中cast函数的功能</li></ul></li><li>列分割与列合并 <ul><li>separate－将一列按分隔符分割为多列</li><li>unite－将多列按指定分隔符合并为一列</li></ul></li></ol><div class="language-r line-numbers-mode" data-ext="r" data-title="r"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> library</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">tidyr</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> library</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">tibble</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> mtcars</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &lt;-</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rownames_to_column</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">mtcars</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> var</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">car</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> head</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">mtcars</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">                car</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  mpg</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> cyl</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> disp</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  hp</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> drat</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    wt</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  qsec</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> vs</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> am</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> gear</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> carb</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">         Mazda</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> RX4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 21.0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   6</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  160</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 110</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.90</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2.620</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 16.46</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    4</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     Mazda</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> RX4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Wag</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 21.0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   6</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  160</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 110</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.90</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2.875</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 17.02</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    4</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        Datsun</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 710</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 22.8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  108</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  93</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.85</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2.320</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 18.61</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    1</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    Hornet</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Drive</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 21.4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   6</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  258</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 110</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.08</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.215</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 19.44</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    1</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Hornet</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Sportabout</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 18.7</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  360</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 175</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.15</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.440</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 17.02</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    2</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">6</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">           Valiant</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 18.1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   6</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  225</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 105</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2.76</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.460</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 20.22</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    1</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="数据重构" tabindex="-1"><a class="header-anchor" href="#数据重构"><span>数据重构</span></a></h2><h3 id="gather" tabindex="-1"><a class="header-anchor" href="#gather"><span>gather</span></a></h3><blockquote><p>gather(data, key, value, …, na.rm = FALSE, convert = FALSE) data：需要被转换的宽形表 key：将原数据框中的所有列赋给一个新变量key value：将原数据框中的所有值赋给一个新变量value …：可以指定哪些列聚到同一列中 na.rm：是否删除缺失值</p></blockquote><div class="language-r line-numbers-mode" data-ext="r" data-title="r"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> mtcarsNew</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &lt;-</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> gather</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">mtcars</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> attribute</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> -</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">car</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 除了car列外，其余列聚合成两列，分别命名为attribute和value</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> head</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">mtcarsNew</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">                car</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> attribute</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> value</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">         Mazda</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> RX4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">       mpg</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  21.0</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     Mazda</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> RX4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Wag</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">       mpg</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  21.0</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        Datsun</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 710</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">       mpg</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  22.8</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    Hornet</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Drive</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">       mpg</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  21.4</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Hornet</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Sportabout</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">       mpg</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  18.7</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">6</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">           Valiant</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">       mpg</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  18.1</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>tidyr很好的一点是可以只gather若干列而其他列保持不变,这点要比melt更加灵活</p><div class="language-r line-numbers-mode" data-ext="r" data-title="r"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> mtcarsNew</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &lt;-</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> mtcars</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> %&gt;%</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> gather</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">attribute</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> mpg</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">gear</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> head</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">mtcarsNew</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">                car</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> carb</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> attribute</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> value</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">         Mazda</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> RX4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">       mpg</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  21.0</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     Mazda</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> RX4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Wag</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">       mpg</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  21.0</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        Datsun</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 710</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">       mpg</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  22.8</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    Hornet</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Drive</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">       mpg</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  21.4</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Hornet</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Sportabout</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    2</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">       mpg</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  18.7</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">6</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">           Valiant</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">       mpg</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  18.1</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="spread" tabindex="-1"><a class="header-anchor" href="#spread"><span>spread</span></a></h3><blockquote><p>spread(data, key, value, fill = NA, convert = FALSE, drop = TRUE) data：为需要转换的长形表 key：需要将变量值拓展为字段的变量 value：需要分散的值 fill：对于缺失值，可将fill的值赋值给被转型后的缺失值</p></blockquote><div class="language-r line-numbers-mode" data-ext="r" data-title="r"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> mtcarsSpread</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &lt;-</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> mtcarsNew</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> %&gt;%</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> spread</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">attribute</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 返回原来的数据格式</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> head</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">mtcarsSpread</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">                 car</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> carb</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> am</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> cyl</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> disp</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> drat</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> gear</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  hp</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  mpg</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  qsec</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> vs</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    wt</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        AMC</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Javelin</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    2</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  304</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.15</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 150</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 15.2</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 17.30</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.435</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Cadillac</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Fleetwood</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  472</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2.93</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 205</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 17.98</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 5.250</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">         Camaro</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Z28</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  350</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.73</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 245</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 13.3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 15.41</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.840</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  Chrysler</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Imperial</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  440</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.23</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 230</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 14.7</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 17.42</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 5.345</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">         Datsun</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 710</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  108</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.85</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  93</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 22.8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 18.61</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2.320</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">6</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">   Dodge</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Challenger</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    2</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  318</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2.76</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 150</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 15.5</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 16.87</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.520</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>使用spread函数后，数据的排列顺序有一定的调整</p></blockquote><h2 id="拆分合并" tabindex="-1"><a class="header-anchor" href="#拆分合并"><span>拆分合并</span></a></h2><h3 id="unite" tabindex="-1"><a class="header-anchor" href="#unite"><span>unite</span></a></h3><blockquote><p>unite(data, col, …, sep = “_”, remove = TRUE) data：为数据框 col：被组合的新列名称 …：指定哪些列需要被组合 sep：组合列之间的连接符，默认为下划线 remove：是否删除被组合的列</p></blockquote><div class="language-r line-numbers-mode" data-ext="r" data-title="r"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> date</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &lt;-</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> as.Date</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">2019-04-01</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">+</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">14</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> hour</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &lt;-</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> sample</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">24</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">15</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> min</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &lt;-</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> sample</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">60</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">15</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> second</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &lt;-</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> sample</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">60</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">15</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> event</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &lt;-</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> sample</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">letters</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">15</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &lt;-</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> data.frame</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">date</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">hour</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">min</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">second</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">event</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> data</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">         date</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> hour</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> min</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> second</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> event</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">01</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    7</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  30</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     29</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     u</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">02</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    9</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  43</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     36</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     a</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">03</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   13</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  58</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     60</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     l</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   20</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  22</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     11</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     q</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">05</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    5</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  44</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     47</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     p</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">6</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">06</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   18</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  52</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     37</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     k</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">07</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   19</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  12</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     43</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     r</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">08</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   12</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  35</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">      6</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     i</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">9</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">09</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   11</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   7</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     38</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     e</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  14</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     21</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     b</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">11</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">11</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  20</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     42</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     w</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">12</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">12</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   14</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     32</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     t</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">13</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">13</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   23</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  19</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     52</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     h</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">14</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">14</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   21</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  41</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     26</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     s</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">15</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">15</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  16</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     25</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     o</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> dataNew</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &lt;-</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> unite</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> datehour</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> date</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> hour</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> sep</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 联合date 和 hour两列，以空格分割，合成datehour列</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> dataNew</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        datehour</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> min</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> second</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> event</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">01</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 7</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  30</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     29</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     u</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">02</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 9</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  43</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     36</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     a</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">03</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 13</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  58</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     60</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     l</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 20</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  22</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     11</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     q</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">05</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 5</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  44</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     47</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     p</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">6</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">06</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 18</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  52</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     37</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     k</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">07</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 19</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  12</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     43</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     r</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">08</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 12</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  35</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">      6</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     i</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">9</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">09</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 11</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   7</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     38</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     e</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  14</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     21</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     b</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">11</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">11</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  20</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     42</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     w</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">12</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">12</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 14</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     32</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     t</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">13</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">13</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 23</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  19</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     52</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     h</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">14</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">14</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 21</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  41</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     26</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     s</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">15</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">15</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  16</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     25</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     o</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="separate" tabindex="-1"><a class="header-anchor" href="#separate"><span>separate</span></a></h3><blockquote><p>separate(data, col, into, sep = “[<sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup>]+”, remove = TRUE, convert = FALSE, extra = “warn”, fill = “warn”, …) data：为数据框 col：需要被拆分的列 into：新建的列名，为字符串向量 sep：被拆分列的分隔符 remove：是否删除被分割的列</p></blockquote><div class="language-r line-numbers-mode" data-ext="r" data-title="r"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> data1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &lt;-</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> separate</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dataNew</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> datehour</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> c</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">date</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">hour</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">sep</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 江上编数据重新拆分成原样</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> data1</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">         date</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> hour</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> min</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> second</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> event</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">01</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    7</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  30</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     29</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     u</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">02</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    9</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  43</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     36</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     a</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">03</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   13</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  58</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     60</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     l</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   20</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  22</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     11</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     q</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">05</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    5</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  44</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     47</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     p</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">6</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">06</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   18</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  52</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     37</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     k</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">07</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   19</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  12</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     43</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     r</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">08</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   12</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  35</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">      6</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     i</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">9</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">09</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   11</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   7</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     38</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     e</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  14</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     21</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     b</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">11</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">11</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  20</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     42</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     w</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">12</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">12</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   14</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     32</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     t</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">13</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">13</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   23</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  19</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     52</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     h</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">14</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">14</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   21</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  41</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     26</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     s</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">15</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2019</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">15</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  16</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     25</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     o</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>separate_rows</code>可以间该数据分割后储存在同一列</p><div class="language-r line-numbers-mode" data-ext="r" data-title="r"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> head</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">table3</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># A tibble: 6 x 3</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  country</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      year</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rate</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">           </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">chr</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">       &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">int</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">chr</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">          </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Afghanistan</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1999</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 745</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">19987071</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">   </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Afghanistan</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2000</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2666</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">20595360</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Brazil</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">       1999</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 37737</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">172006362</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Brazil</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">       2000</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 80488</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">174504898</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> China</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        1999</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 212258</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1272915272</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">6</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> China</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        2000</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 213766</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1280428583</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> separate_rows</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">table3</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rate</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># A tibble: 12 x 3</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">   country</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      year</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> rate</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">   &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">chr</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">       &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">int</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">chr</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">   </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Afghanistan</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1999</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 745</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">     </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Afghanistan</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1999</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 19987071</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Afghanistan</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2000</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2666</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Afghanistan</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2000</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 20595360</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 5</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Brazil</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">       1999</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 37737</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">   </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 6</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Brazil</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">       1999</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 172006362</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 7</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Brazil</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">       2000</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 80488</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">   </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 8</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Brazil</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">       2000</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 174504898</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 9</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> China</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        1999</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 212258</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> China</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        1999</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1272915272</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">11</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> China</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        2000</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 213766</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">12</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> China</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        2000</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1280428583</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="数据拓展" tabindex="-1"><a class="header-anchor" href="#数据拓展"><span>数据拓展</span></a></h2><h3 id="complete" tabindex="-1"><a class="header-anchor" href="#complete"><span>complete</span></a></h3><p><code>complete</code>和 <code>expand</code>都会创建出一个包含所有组合的tibble，只是两者得到的结果是不一样的</p><div class="language-r line-numbers-mode" data-ext="r" data-title="r"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> complete</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">mtcars</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> cyl</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> gear</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> carb</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># A tibble: 74 x 12</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     cyl</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  gear</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  carb</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> car</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        mpg</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  disp</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    hp</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  drat</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    wt</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  qsec</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    vs</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    am</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">   &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dbl</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dbl</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dbl</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">chr</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dbl</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dbl</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dbl</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dbl</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dbl</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dbl</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dbl</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dbl</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Toyota</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ~</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  21.5</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 120</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.     </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">97</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3.7</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   2.46</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  20.0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     0</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     2</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">     NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    NA</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     3</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">     NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    NA</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">     NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    NA</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 5</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     6</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">     NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    NA</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 6</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     8</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">     NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      NA</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    NA</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 7</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Datsun</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ~</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  22.8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 108</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">      93</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3.85</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2.32</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  18.6</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Fiat</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 128</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  32.4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  78.7</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    66</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  4.08</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2.2</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   19.5</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 9</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Toyota</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ~</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  33.9</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  71.1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    65</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  4.22</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1.84</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  19.9</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Fiat</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> X1</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">~</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  27.3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  79</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">      66</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  4.08</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1.94</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  18.9</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># ... with 64 more rows</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> expand</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">mtcars</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> cyl</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> gear</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> carb</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># A tibble: 54 x 3</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">     cyl</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  gear</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  carb</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">   &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dbl</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dbl</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dbl</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     2</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     3</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 5</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     6</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 6</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     3</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     8</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 7</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 8</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     2</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 9</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     3</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     4</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># ... with 44 more rows</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="缺失值处理" tabindex="-1"><a class="header-anchor" href="#缺失值处理"><span>缺失值处理</span></a></h2><h3 id="drop-na" tabindex="-1"><a class="header-anchor" href="#drop-na"><span>drop_na</span></a></h3><p>去掉包含NA的某些行</p><div class="language-r line-numbers-mode" data-ext="r" data-title="r"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> library</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dplyr</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> df</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &lt;-</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> tibble</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">x</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> c</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NA</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">y</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> c</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">a</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">NA</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">b</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">))</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> df</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># A tibble: 3 x 2</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      x</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> y</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dbl</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">chr</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> a</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     2</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NA</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">   </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    NA</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> b</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> drop_na</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">df</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> x</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 去掉x列包含NA的行</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># A tibble: 2 x 2</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      x</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> y</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">dbl</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">chr</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> a</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     2</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NA</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="fill" tabindex="-1"><a class="header-anchor" href="#fill"><span>fill</span></a></h3><p>根据就近的非NA值补充NA数据</p><div class="language-r line-numbers-mode" data-ext="r" data-title="r"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> df</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &lt;-</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> data.frame</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">x1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> LETTERS</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">x2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">c</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">NA</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">NA</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">NA</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">))</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> df</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  x1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> x2</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  A</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  B</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NA</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  C</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NA</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  D</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  E</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NA</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> fill</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">df</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> x2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  x1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> x2</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  A</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  B</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  C</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  D</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  E</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> fill</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">df</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> x2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> .direction</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">up</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  x1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> x2</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  A</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  B</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  C</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  D</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  E</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NA</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> fill</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">df</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> x2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> .direction</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">down</span><span style="--shiki-light:#B5695999;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  x1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> x2</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  A</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  B</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  C</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  D</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  E</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="replace-na" tabindex="-1"><a class="header-anchor" href="#replace-na"><span>replace_na</span></a></h3><p>取代缺失值</p><div class="language-r line-numbers-mode" data-ext="r" data-title="r"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> replace_na</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">df</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> list</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">x2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">))</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  x1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> x2</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  A</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  B</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  C</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">4</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  D</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  E</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="footnote1" class="footnote-item"><p>:alnum: <a href="#footnote-ref1" class="footnote-backref">↩︎</a></p></li></ol></section></div><!----></div><footer class="page-footer" data-v-5c470ced data-v-13de951c><div class="edit-info" data-v-13de951c><div class="edit-link" data-v-13de951c><a class="auto-link link edit-link-button" href="https://github.com/Moonerss/blog/edit/main/docs/notes/R/tidyverse/tidyr.md" target="_blank" rel="noreferrer" data-v-13de951c data-v-66dcefcc><!--[--><span class="vpi-square-pen edit-link-icon" aria-label="edit icon" data-v-13de951c></span> 在 GitHub 上编辑此页<!--]--><!----></a></div><!----></div><!----><nav class="prev-next" data-v-13de951c><div class="pager" data-v-13de951c><a class="auto-link link pager-link prev" href="/R/tidyverse/tibble/" data-v-13de951c data-v-66dcefcc><!--[--><span class="desc" data-v-13de951c>上一页</span><span class="title" data-v-13de951c>tibble</span><!--]--><!----></a></div><div class="pager" data-v-13de951c><a class="auto-link link pager-link next" href="/R/tidyverse/dplyr/" data-v-13de951c data-v-66dcefcc><!--[--><span class="desc" data-v-13de951c>下一页</span><span class="title" data-v-13de951c>dplyr</span><!--]--><!----></a></div></nav></footer><!----><!--]--></div></div></div></div><button style="display:none;" type="button" class="back-to-top-button" aria-label="back to top" data-v-0f4179d5 data-v-0af269ee><span class="percent" data-v-0af269ee>0%</span><span class="show icon vpi-back-to-top" data-v-0af269ee></span><svg aria-hidden="true" data-v-0af269ee><circle cx="50%" cy="50%" style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-0af269ee></circle></svg></button><footer class="plume-footer has-sidebar" data-v-0f4179d5 data-v-24205ac6><div class="container" data-v-24205ac6><p class="message" data-v-24205ac6>Power by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://github.com/pengzhanbo/vuepress-theme-plume">vuepress-theme-plume</a></p><p class="copyright" data-v-24205ac6>Copyright © 2024-present Jeason</p></div></footer><!--]--></div><!--]--></div><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-B6iXF0Jq.js" defer></script></body></html>